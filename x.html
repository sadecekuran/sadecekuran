<!DOCTYPE html>
<html lang="tr" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SADECE KURAN - Kuran Meali ve Kelime Analizi</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
<style>
    :root[data-theme="dark"] {
        --bg-primary: #000000;
        --bg-secondary: #111111;
        --bg-tertiary: #1a1a1a;
        --text-primary: #ffffff;
        --text-secondary: #cccccc;
        --text-muted: #888888;
        --border-color: #333333;
        --accent-light: #ffffff;
        --accent-dark: #000000;
        --shadow-light: rgba(255, 255, 255, 0.1);
        --shadow-dark: rgba(0, 0, 0, 0.5);
        --gradient-primary: linear-gradient(135deg, #ffffff, #cccccc);
        --gradient-secondary: linear-gradient(135deg, #333333, #111111);
        --wire-color: #666666;
        --primary-color: #ffffff;
        --secondary-color: #cccccc;
        --accent-color: #888888;
        --header-height: 60px;
        --navbar-bg: #111111;
    }

    :root[data-theme="light"] {
        --bg-primary: #ffffff;
        --bg-secondary: #f8fafc;
        --bg-tertiary: #f1f5f9;
        --text-primary: #1e293b;
        --text-secondary: #475569;
        --text-muted: #64748b;
        --border-color: #e2e8f0;
        --accent-light: #1e293b;
        --accent-dark: #ffffff;
        --shadow-light: rgba(0, 0, 0, 0.1);
        --shadow-dark: rgba(0, 0, 0, 0.1);
        --gradient-primary: linear-gradient(135deg, #1e293b, #475569);
        --gradient-secondary: linear-gradient(135deg, #f1f5f9, #e2e8f0);
        --wire-color: #94a3b8;
        --primary-color: #2563eb;
        --secondary-color: #475569;
        --accent-color: #64748b;
        --header-height: 60px;
        --navbar-bg: #f8fafc;
    }

    :root[data-theme="sepia"] {
        --bg-primary: #f7f3e9;
        --bg-secondary: #f0e6d2;
        --bg-tertiary: #e8dcc0;
        --text-primary: #5d4e37;
        --text-secondary: #8b7355;
        --text-muted: #a0916f;
        --border-color: #d4c4a8;
        --accent-light: #5d4e37;
        --accent-dark: #f7f3e9;
        --shadow-light: rgba(93, 78, 55, 0.1);
        --shadow-dark: rgba(93, 78, 55, 0.15);
        --gradient-primary: linear-gradient(135deg, #5d4e37, #8b7355);
        --gradient-secondary: linear-gradient(135deg, #e8dcc0, #d4c4a8);
        --wire-color: #a0916f;
        --primary-color: #8b4513;
        --secondary-color: #8b7355;
        --accent-color: #a0916f;
        --header-height: 60px;
        --navbar-bg: #f0e6d2;
    }

    :root[data-theme="blue"] {
        --bg-primary: #0f172a;
        --bg-secondary: #1e293b;
        --bg-tertiary: #334155;
        --text-primary: #f1f5f9;
        --text-secondary: #cbd5e1;
        --text-muted: #94a3b8;
        --border-color: #475569;
        --accent-light: #f1f5f9;
        --accent-dark: #0f172a;
        --shadow-light: rgba(241, 245, 249, 0.1);
        --shadow-dark: rgba(0, 0, 0, 0.5);
        --gradient-primary: linear-gradient(135deg, #3b82f6, #1d4ed8);
        --gradient-secondary: linear-gradient(135deg, #334155, #1e293b);
        --wire-color: #64748b;
        --primary-color: #3b82f6;
        --secondary-color: #cbd5e1;
        --accent-color: #94a3b8;
        --header-height: 60px;
        --navbar-bg: #1e293b;
    }

    :root[data-theme="green"] {
        --bg-primary: #064e3b;
        --bg-secondary: #065f46;
        --bg-tertiary: #047857;
        --text-primary: #ecfdf5;
        --text-secondary: #d1fae5;
        --text-muted: #a7f3d0;
        --border-color: #059669;
        --accent-light: #ecfdf5;
        --accent-dark: #064e3b;
        --shadow-light: rgba(236, 253, 245, 0.1);
        --shadow-dark: rgba(0, 0, 0, 0.5);
        --gradient-primary: linear-gradient(135deg, #10b981, #059669);
        --gradient-secondary: linear-gradient(135deg, #047857, #065f46);
        --wire-color: #6ee7b7;
        --primary-color: #10b981;
        --secondary-color: #d1fae5;
        --accent-color: #a7f3d0;
        --header-height: 60px;
        --navbar-bg: #065f46;
    }

    :root[data-theme="purple"] {
        --bg-primary: #581c87;
        --bg-secondary: #6b21a8;
        --bg-tertiary: #7c2d92;
        --text-primary: #faf5ff;
        --text-secondary: #e9d5ff;
        --text-muted: #d8b4fe;
        --border-color: #8b5cf6;
        --accent-light: #faf5ff;
        --accent-dark: #581c87;
        --shadow-light: rgba(250, 245, 255, 0.1);
        --shadow-dark: rgba(0, 0, 0, 0.5);
        --gradient-primary: linear-gradient(135deg, #8b5cf6, #7c3aed);
        --gradient-secondary: linear-gradient(135deg, #7c2d92, #6b21a8);
        --wire-color: #c4b5fd;
        --primary-color: #8b5cf6;
        --secondary-color: #e9d5ff;
        --accent-color: #d8b4fe;
        --header-height: 60px;
        --navbar-bg: #6b21a8;
    }

    :root[data-theme="rose"] {
        --bg-primary: #881337;
        --bg-secondary: #9f1239;
        --bg-tertiary: #be185d;
        --text-primary: #fdf2f8;
        --text-secondary: #fce7f3;
        --text-muted: #fbcfe8;
        --border-color: #ec4899;
        --accent-light: #fdf2f8;
        --accent-dark: #881337;
        --shadow-light: rgba(253, 242, 248, 0.1);
        --shadow-dark: rgba(0, 0, 0, 0.5);
        --gradient-primary: linear-gradient(135deg, #ec4899, #db2777);
        --gradient-secondary: linear-gradient(135deg, #be185d, #9f1239);
        --wire-color: #f9a8d4;
        --primary-color: #ec4899;
        --secondary-color: #fce7f3;
        --accent-color: #fbcfe8;
        --header-height: 60px;
        --navbar-bg: #9f1239;
    }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        background: var(--bg-primary);
        color: var(--text-primary);
        font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
        font-size: 16px;
        line-height: 1.6;
        transition: all 0.3s ease;
        padding-bottom: 80px;
    }

    .arabic {
        font-family: 'Amiri', serif;
        direction: rtl;
        text-align: right;
        font-size: 1.2em;
        line-height: 2;
        color: var(--text-primary);
    }

    .icon {
        display: inline-block;
        width: 20px;
        height: 20px;
        stroke: var(--wire-color);
        fill: none;
        stroke-width: 1.5;
        stroke-linecap: round;
        stroke-linejoin: round;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .icon:hover {
        stroke: var(--text-primary);
        transform: scale(1.1);
    }

    .icon-sm {
        width: 16px;
        height: 16px;
    }

    .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: var(--navbar-bg);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--border-color);
        padding: 0.75rem 1rem;
        z-index: 1000;
        height: var(--header-height);
        animation: slideDown 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .header-content {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
        height: 100%;
    }

    .logo {
        font-size: 1.25rem;
        font-weight: 700;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-decoration: none;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        white-space: nowrap;
    }

    .logo:hover {
        transform: scale(1.05);
    }

    .header-actions {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .search-btn, .theme-btn, .saved-btn, .settings-btn {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        padding: 0.5rem;
        border-radius: 8px;
        cursor: pointer;
        color: var(--text-secondary);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .search-btn:hover, .theme-btn:hover, .saved-btn:hover, .settings-btn:hover {
        background: var(--bg-tertiary);
        color: var(--text-primary);
        border-color: var(--wire-color);
        transform: scale(1.05);
    }

    .saved-btn {
        gap: 0.25rem;
        padding: 0.5rem 0.75rem;
        font-size: 0.8rem;
    }

    .search-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 2000;
        display: none;
        align-items: flex-start;
        justify-content: center;
        padding-top: 10vh;
    }

    .search-modal.active {
        display: flex;
    }

    .search-modal-content {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 2rem;
        width: 90%;
        max-width: 600px;
        animation: slideUp 0.3s ease;
        max-height: 80vh;
        overflow-y: auto;
        position: relative;
    }

    .search-input {
        width: 100%;
        padding: 1rem;
        background: var(--bg-primary);
        border: 2px solid var(--border-color);
        border-radius: 12px;
        color: var(--text-primary);
        font-size: 1rem;
        outline: none;
        transition: all 0.3s ease;
    }

    .search-input:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
    }

    .search-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: none;
        border: none;
        color: var(--text-secondary);
        cursor: pointer;
        padding: 0.5rem;
    }

    .main {
        margin-top: var(--header-height);
        min-height: calc(100vh - var(--header-height));
    }

    .content {
        padding: 2rem;
        max-width: 1400px;
        margin: 0 auto;
        animation: fadeInUp 1s ease-out 0.8s both;
    }

    .home-hero {
        text-align: center;
        padding: 2rem 0 2rem;
        max-width: 800px;
        margin: 0 auto;
    }

    .home-hero h1 {
        font-size: clamp(2.5rem, 5vw, 4rem);
        font-weight: 700;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 1rem;
        animation: slideUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.2s both;
    }

    .home-hero p {
        font-size: 1.2rem;
        color: var(--text-secondary);
        margin-bottom: 2rem;
        animation: slideUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.4s both;
    }

    .home-search {
        max-width: 600px;
        margin: 0 auto 3rem;
        position: relative;
        animation: slideUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.5s both;
    }

    .home-search-input {
        width: 100%;
        padding: 1rem 3rem 1rem 1rem;
        background: var(--bg-secondary);
        border: 2px solid var(--border-color);
        border-radius: 16px;
        color: var(--text-primary);
        font-size: 1rem;
        outline: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 20px var(--shadow-dark);
    }

    .home-search-input:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1), 0 8px 32px var(--shadow-dark);
        transform: translateY(-2px);
    }

    .home-search-icon {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-muted);
        pointer-events: none;
    }

    .home-search-results {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        margin-top: 0.5rem;
        max-height: 400px;
        overflow-y: auto;
        z-index: 100;
        display: none;
        box-shadow: 0 8px 32px var(--shadow-dark);
    }

    .home-search-results.active {
        display: block;
    }

    .home-search-result {
        padding: 1rem;
        border-bottom: 1px solid var(--border-color);
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .home-search-result:last-child {
        border-bottom: none;
    }

    .home-search-result:hover {
        background: var(--bg-tertiary);
    }

    .surahs-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1rem;
        animation: slideUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.6s both;
    }

    .surah-card {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        padding: 1rem;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        text-decoration: none;
        color: inherit;
        transform: translateY(0);
        opacity: 0;
        animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        position: relative;
    }

    .surah-card:nth-child(odd) {
        animation-delay: 0.1s;
    }

    .surah-card:nth-child(even) {
        animation-delay: 0.2s;
    }

    .surah-card:hover {
        transform: translateY(-4px) scale(1.01);
        box-shadow: 0 8px 20px var(--shadow-dark);
        border-color: var(--wire-color);
    }

    .surah-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
    }

    .surah-number {
        width: 2.5rem;
        height: 2.5rem;
        background: var(--bg-tertiary);
        border: 1px solid var(--border-color);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .surah-card:hover .surah-number {
        background: var(--wire-color);
        transform: scale(1.1);
    }

    .surah-info {
        flex: 1;
        margin-left: 0.75rem;
    }

    .surah-name {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 0.25rem;
    }

    .surah-arabic {
        font-size: 1.1rem;
        margin: 0.25rem 0;
        transition: all 0.3s ease;
    }

    .surah-card:hover .surah-arabic {
        transform: scale(1.05);
    }

    .surah-meta {
        display: flex;
        gap: 0.75rem;
        font-size: 0.75rem;
        color: var(--text-muted);
        margin-top: 0.25rem;
    }

    .meta-item {
        display: flex;
        align-items: center;
        gap: 0.25rem;
    }

    .settings-page {
        max-width: 800px;
        margin: 0 auto;
    }

    .settings-header {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 2rem;
        text-align: center;
        animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .settings-title {
        font-size: 2rem;
        font-weight: 700;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.5rem;
    }

    .settings-description {
        color: var(--text-secondary);
        font-size: 1rem;
    }

    .settings-section {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .settings-section h3 {
        margin-bottom: 1rem;
        color: var(--text-primary);
        font-size: 1.2rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .theme-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 1rem;
    }

    .theme-option {
        padding: 1rem;
        border: 2px solid var(--border-color);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: var(--bg-primary);
        color: var(--text-primary);
        font-size: 0.9rem;
        text-align: center;
        position: relative;
        overflow: hidden;
    }

    .theme-option.active {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: var(--bg-primary);
        transform: scale(1.05);
    }

    .theme-option:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px var(--shadow-dark);
    }

    .theme-preview {
        width: 100%;
        height: 40px;
        border-radius: 8px;
        margin-bottom: 0.5rem;
        position: relative;
    }

    .theme-preview.dark { background: linear-gradient(135deg, #000000, #333333); }
    .theme-preview.light { background: linear-gradient(135deg, #ffffff, #f1f5f9); }
    .theme-preview.sepia { background: linear-gradient(135deg, #f7f3e9, #e8dcc0); }
    .theme-preview.blue { background: linear-gradient(135deg, #0f172a, #3b82f6); }
    .theme-preview.green { background: linear-gradient(135deg, #064e3b, #10b981); }
    .theme-preview.purple { background: linear-gradient(135deg, #581c87, #8b5cf6); }
    .theme-preview.rose { background: linear-gradient(135deg, #881337, #ec4899); }

    .setting-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem;
        background: var(--bg-primary);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        margin-bottom: 1rem;
        transition: all 0.3s ease;
    }

    .setting-item:hover {
        background: var(--bg-tertiary);
        transform: translateY(-1px);
    }

    .setting-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--text-primary);
        font-weight: 500;
    }

    .setting-description {
        color: var(--text-secondary);
        font-size: 0.9rem;
        margin-top: 0.25rem;
    }

    .toggle-switch {
        position: relative;
        width: 50px;
        height: 24px;
        background: var(--border-color);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .toggle-switch.active {
        background: var(--primary-color);
    }

    .toggle-switch::after {
        content: '';
        position: absolute;
        top: 2px;
        left: 2px;
        width: 20px;
        height: 20px;
        background: white;
        border-radius: 50%;
        transition: all 0.3s ease;
    }

    .toggle-switch.active::after {
        transform: translateX(26px);
    }

    .volume-slider {
        width: 100%;
        height: 6px;
        background: var(--border-color);
        border-radius: 3px;
        outline: none;
        cursor: pointer;
        -webkit-appearance: none;
    }

    .volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 20px;
        height: 20px;
        background: var(--primary-color);
        border-radius: 50%;
        cursor: pointer;
    }

    .audio-player {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: var(--bg-secondary);
        backdrop-filter: blur(20px);
        border-top: 1px solid var(--border-color);
        padding: 1rem;
        box-shadow: 0 -8px 32px var(--shadow-dark);
        z-index: 1000;
        display: none;
        transition: all 0.3s ease;
    }

    .audio-player.active {
        display: block;
        animation: slideInUp 0.3s ease;
    }

    .audio-controls {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 0.75rem;
    }

    .audio-main-controls {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .audio-btn {
        background: var(--bg-primary);
        border: 1px solid var(--border-color);
        color: var(--text-primary);
        padding: 0.75rem;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 48px;
        height: 48px;
        box-shadow: 0 2px 8px var(--shadow-dark);
    }

    .audio-btn:hover {
        background: var(--primary-color);
        color: var(--bg-primary);
        transform: translateY(-2px);
        box-shadow: 0 4px 16px var(--shadow-dark);
    }

    .audio-play-btn {
        background: var(--primary-color);
        color: var(--bg-primary);
        width: 56px;
        height: 56px;
        border-radius: 50%;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
    }

    .audio-play-btn:hover {
        transform: scale(1.05);
    }

    .audio-info {
        flex: 1;
        min-width: 0;
        margin: 0 1rem;
    }

    .audio-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 0.75rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        color: var(--text-primary);
    }

    .audio-progress-container {
        position: relative;
        margin-bottom: 0.5rem;
    }

    .audio-progress {
        width: 100%;
        height: 8px;
        background: var(--bg-tertiary);
        border-radius: 4px;
        overflow: hidden;
        cursor: pointer;
        border: 1px solid var(--border-color);
    }

    .audio-progress-bar {
        height: 100%;
        background: var(--primary-color);
        width: 0%;
        transition: width 0.1s ease;
        border-radius: 4px;
    }

    .audio-time {
        display: flex;
        justify-content: space-between;
        font-size: 0.85rem;
        color: var(--text-muted);
        font-weight: 500;
    }

    .audio-volume-control {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        min-width: 140px;
    }

    .audio-volume-slider {
        width: 100px;
        height: 6px;
        background: var(--bg-tertiary);
        border-radius: 3px;
        outline: none;
        cursor: pointer;
        -webkit-appearance: none;
        border: 1px solid var(--border-color);
    }

    .audio-volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 18px;
        height: 18px;
        background: var(--primary-color);
        border-radius: 50%;
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .audio-close {
        background: var(--bg-primary);
        border: 1px solid var(--border-color);
        color: var(--text-secondary);
        cursor: pointer;
        padding: 0.75rem;
        border-radius: 12px;
        transition: all 0.3s ease;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .audio-close:hover {
        background: #dc2626;
        color: white;
        border-color: #dc2626;
        transform: translateY(-2px);
    }

    .breadcrumb {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 1rem;
        font-size: 0.9rem;
        color: var(--text-secondary);
        animation: fadeIn 0.6s ease-out;
    }

    .breadcrumb a {
        color: var(--text-secondary);
        text-decoration: none;
        transition: all 0.3s ease;
        padding: 0.25rem 0.5rem;
        border-radius: 6px;
    }

    .breadcrumb a:hover {
        color: var(--text-primary);
        background: var(--bg-tertiary);
        transform: translateY(-1px);
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-100%);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(40px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideInRight {
        from {
            opacity: 0;
            transform: translateX(100%);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes slideOutRight {
        from {
            opacity: 1;
            transform: translateX(0);
        }
        to {
            opacity: 0;
            transform: translateX(100%);
        }
    }

    .swipe-container {
        touch-action: pan-y;
        position: relative;
    }

    @media (max-width: 768px) {
        .header {
            padding: 0.5rem 1rem;
        }

        .header-content {
            gap: 0.5rem;
        }

        .logo {
            font-size: 1rem;
        }

        .saved-btn {
            padding: 0.5rem;
            font-size: 0;
        }

        .saved-btn .icon {
            margin: 0;
        }

        .content {
            padding: 1rem;
        }

        .home-hero {
            padding: 1rem 0 1.5rem;
        }

        .home-hero h1 {
            font-size: 1.8rem;
        }

        .home-search {
            margin-bottom: 2rem;
        }

        .surahs-grid {
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 0.75rem;
        }

        .surah-card {
            padding: 0.75rem;
        }

        .surah-header {
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            text-align: center;
        }

        .surah-info {
            margin-left: 0;
        }

        .surah-number {
            width: 2rem;
            height: 2rem;
            font-size: 0.8rem;
        }

        .surah-name {
            font-size: 0.8rem;
        }

        .surah-arabic {
            font-size: 0.9rem;
        }

        .surah-meta {
            flex-direction: column;
            gap: 0.25rem;
            font-size: 0.7rem;
        }

        .theme-grid {
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 0.75rem;
        }

        .theme-option {
            padding: 0.75rem;
            font-size: 0.8rem;
        }

        .theme-preview {
            height: 30px;
        }

        .audio-player {
            padding: 0.75rem;
        }

        .audio-controls {
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 0;
        }

        .audio-main-controls {
            justify-content: center;
            gap: 0.5rem;
        }

        .audio-btn {
            width: 40px;
            height: 40px;
            padding: 0.5rem;
        }

        .audio-play-btn {
            width: 48px;
            height: 48px;
        }

        .audio-info {
            margin: 0;
            text-align: center;
            order: -1;
        }

        .audio-title {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .audio-volume-control {
            justify-content: center;
            min-width: auto;
            gap: 0.5rem;
        }

        .audio-volume-slider {
            width: 80px;
        }

        .audio-close {
            width: 40px;
            height: 40px;
            padding: 0.5rem;
        }
    }

    @media (max-width: 480px) {
        .surahs-grid {
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 0.5rem;
        }

        .surah-card {
            padding: 0.5rem;
        }

        .surah-number {
            width: 1.75rem;
            height: 1.75rem;
            font-size: 0.75rem;
        }

        .surah-name {
            font-size: 0.75rem;
        }

        .surah-arabic {
            font-size: 0.8rem;
        }

        .theme-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .audio-player {
            padding: 0.5rem;
        }

        .audio-main-controls {
            gap: 0.25rem;
        }

        .audio-btn {
            width: 36px;
            height: 36px;
        }

        .audio-play-btn {
            width: 44px;
            height: 44px;
        }

        .audio-close {
            width: 36px;
            height: 36px;
        }
    }

    .hidden {
        display: none !important;
    }

    .text-center {
        text-align: center;
    }

    .mb-1 { margin-bottom: 0.25rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-3 { margin-bottom: 0.75rem; }
    .mb-4 { margin-bottom: 1rem; }

    .mt-1 { margin-top: 0.25rem; }
    .mt-2 { margin-top: 0.5rem; }
    .mt-3 { margin-top: 0.75rem; }
    .mt-4 { margin-top: 1rem; }

    .surah-detail {
        max-width: 1000px;
        margin: 0 auto;
    }

    .surah-detail-header {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 20px;
        padding: 2rem;
        margin-bottom: 2rem;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px var(--shadow-dark);
        animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        text-align: center;
        position: relative;
    }

    .surah-title {
        font-size: 2rem;
        font-weight: 700;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.5rem;
    }

    .surah-arabic-title {
        font-size: 2.5rem;
        margin: 1rem 0;
        transition: all 0.3s ease;
    }

    .surah-detail-header:hover .surah-arabic-title {
        transform: scale(1.05);
    }

    .surah-meta-info {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin-top: 1rem;
        flex-wrap: wrap;
    }

    .meta-detail {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--text-secondary);
        font-size: 0.875rem;
    }

    .surah-play-btn {
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
        background: var(--primary-color);
        color: var(--bg-primary);
        border: none;
        padding: 1rem;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
    }

    .surah-play-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 24px rgba(0, 0, 0, 0.3);
    }

    .verses-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .verse-card {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 1.5rem;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
        animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .verse-card:nth-child(odd) {
        animation-delay: 0.1s;
    }

    .verse-card:nth-child(even) {
        animation-delay: 0.2s;
    }

    .verse-card:hover {
        transform: translateY(-5px) scale(1.01);
        box-shadow: 0 12px 40px var(--shadow-dark);
        border-color: var(--wire-color);
    }

    .verse-number-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        background: var(--bg-tertiary);
        border: 1px solid var(--border-color);
        border-radius: 50%;
        font-size: 0.875rem;
        font-weight: 600;
        margin-bottom: 1rem;
        transition: all 0.3s ease;
    }

    .verse-card:hover .verse-number-badge {
        background: var(--wire-color);
        transform: scale(1.1);
    }

    .verse-translation {
        color: var(--text-primary);
        font-size: 1.05rem;
        line-height: 1.7;
        margin-bottom: 1rem;
        text-align: left;
        background: var(--bg-tertiary);
        padding: 1rem;
        border-radius: 12px;
        border: 1px solid var(--border-color);
    }

    .verse-arabic {
        padding: 1rem;
        background: transparent;
        border-radius: 12px;
        transition: all 0.3s ease;
    }

    .verse-card:hover .verse-arabic {
        transform: scale(1.01);
    }

    .verse-detail {
        max-width: 1000px;
        margin: 0 auto;
        position: relative;
    }

    .verse-detail-header {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 20px;
        padding: 2rem;
        margin-bottom: 2rem;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px var(--shadow-dark);
        animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
    }

    .verse-detail-translation {
        font-size: 1.4rem;
        line-height: 1.8;
        color: var(--text-primary);
        text-align: left;
        margin-bottom: 1.5rem;
        font-weight: 500;
        background: var(--bg-tertiary);
        padding: 1.5rem;
        border-radius: 12px;
        border: 1px solid var(--border-color);
    }

    .verse-detail-arabic {
        font-size: 2rem;
        margin-bottom: 1rem;
        padding: 1.5rem;
        background: transparent;
        border-radius: 12px;
        text-align: right;
    }

    .verse-detail-transcription {
        font-style: italic;
        color: var(--text-secondary);
        text-align: left;
        font-size: 1rem;
    }

    .verse-actions {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1rem;
        justify-content: flex-end;
    }

    .save-btn, .share-btn {
        background: var(--bg-tertiary);
        border: 1px solid var(--border-color);
        padding: 0.5rem;
        border-radius: 8px;
        cursor: pointer;
        color: var(--text-secondary);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .save-btn:hover, .share-btn:hover {
        background: var(--primary-color);
        color: var(--bg-primary);
        transform: scale(1.1);
    }

    .save-btn.saved {
        background: var(--primary-color);
        color: var(--bg-primary);
    }

    .verse-navigation {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 2rem 0;
        gap: 1rem;
    }

    .nav-btn {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        padding: 0.75rem 1rem;
        border-radius: 12px;
        cursor: pointer;
        color: var(--text-primary);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.8rem;
        text-decoration: none;
        min-width: 100px;
        justify-content: center;
    }

    .nav-btn:hover {
        background: var(--bg-tertiary);
        border-color: var(--wire-color);
        transform: translateY(-2px);
    }

    .nav-btn.disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
    }

    .nav-btn.disabled:hover {
        background: var(--bg-secondary);
        border-color: var(--border-color);
        transform: none;
    }

    .tabs-container {
        margin-top: 2rem;
    }

    .tabs-nav {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1.5rem;
        border-bottom: 1px solid var(--border-color);
    }

    .tab-button {
        background: none;
        border: none;
        padding: 1rem 1.5rem;
        color: var(--text-secondary);
        cursor: pointer;
        border-radius: 8px 8px 0 0;
        transition: all 0.3s ease;
        font-size: 0.9rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .tab-button.active {
        background: var(--bg-secondary);
        color: var(--text-primary);
        border: 1px solid var(--border-color);
        border-bottom: 1px solid var(--bg-secondary);
    }

    .tab-button:hover:not(.active) {
        background: var(--bg-tertiary);
        color: var(--text-primary);
    }

    .tab-content {
        display: none;
        animation: fadeIn 0.3s ease;
    }

    .tab-content.active {
        display: block;
    }

    .words-analysis {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 1.5rem;
    }

    .words-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
    }

    .word-item {
        background: var(--bg-primary);
        padding: 1rem;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .word-item:hover {
        box-shadow: 0 6px 20px var(--shadow-dark);
        border-color: var(--primary-color);
        transform: translateY(-3px) scale(1.02);
    }

    .word-arabic {
        font-size: 1.25rem;
        margin-bottom: 0.5rem;
        transition: all 0.3s ease;
    }

    .word-item:hover .word-arabic {
        transform: scale(1.05);
    }

    .word-transcription {
        font-size: 0.875rem;
        color: var(--text-secondary);
        font-style: italic;
        margin-bottom: 0.25rem;
    }

    .word-translation {
        font-size: 0.875rem;
        color: var(--text-primary);
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .word-root {
        padding-top: 0.5rem;
        border-top: 1px solid var(--border-color);
        font-size: 0.75rem;
        color: var(--text-muted);
    }

    .translations-container {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 1.5rem;
    }

    .translation-item {
        padding: 1rem;
        margin-bottom: 1rem;
        background: var(--bg-primary);
        border-radius: 12px;
        border: 1px solid var(--border-color);
    }

    .translation-item:last-child {
        margin-bottom: 0;
    }

    .translation-author {
        font-size: 0.875rem;
        color: var(--text-secondary);
        font-weight: 600;
        margin-bottom: 0.5rem;
    }

    .translation-text {
        font-size: 1rem;
        line-height: 1.6;
        color: var(--text-primary);
    }

    .saved-verses {
        max-width: 1000px;
        margin: 0 auto;
    }

    .saved-verse-item {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        transition: all 0.3s ease;
    }

    .saved-verse-item:hover {
        box-shadow: 0 8px 25px var(--shadow-dark);
        border-color: var(--wire-color);
        transform: translateY(-3px);
    }

    .saved-verse-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }

    .saved-verse-title {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--primary-color);
    }

    .saved-verse-date {
        font-size: 0.8rem;
        color: var(--text-muted);
    }

    .saved-verse-note {
        background: var(--bg-tertiary);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 0.75rem;
        margin-top: 1rem;
        font-size: 0.9rem;
        color: var(--text-secondary);
    }

    .remove-saved-btn {
        background: #dc2626;
        color: white;
        border: none;
        padding: 0.5rem;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .remove-saved-btn:hover {
        background: #b91c1c;
        transform: scale(1.05);
    }

    .save-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 2000;
        display: none;
        align-items: center;
        justify-content: center;
    }

    .save-modal.active {
        display: flex;
    }

    .save-modal-content {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 2rem;
        width: 90%;
        max-width: 500px;
        animation: slideUp 0.3s ease;
    }

    .save-modal h3 {
        margin-bottom: 1rem;
        color: var(--text-primary);
    }

    .save-note-input {
        width: 100%;
        padding: 1rem;
        background: var(--bg-primary);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        color: var(--text-primary);
        font-size: 0.9rem;
        resize: vertical;
        min-height: 100px;
        margin-bottom: 1rem;
    }

    .save-modal-actions {
        display: flex;
        gap: 1rem;
        justify-content: flex-end;
    }

    .save-modal-btn {
        padding: 0.75rem 1.5rem;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .save-modal-btn.primary {
        background: var(--primary-color);
        color: var(--bg-primary);
        border-color: var(--primary-color);
    }

    .save-modal-btn.secondary {
        background: var(--bg-tertiary);
        color: var(--text-primary);
    }

    .save-modal-btn:hover {
        transform: translateY(-2px);
    }

    .search-results {
        margin-top: 2rem;
    }

    .search-header {
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid var(--border-color);
        text-align: center;
    }

    .search-header h2 {
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.5rem;
    }

    .search-meta {
        color: var(--text-secondary);
        font-size: 0.875rem;
    }

    .search-result {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 1rem;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0;
        animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .search-result:nth-child(odd) {
        animation-delay: 0.1s;
    }

    .search-result:nth-child(even) {
        animation-delay: 0.2s;
    }

    .search-result:hover {
        box-shadow: 0 8px 25px var(--shadow-dark);
        border-color: var(--wire-color);
        transform: translateY(-3px);
    }

    .result-type {
        display: inline-block;
        background: var(--bg-tertiary);
        color: var(--text-primary);
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: 500;
        margin-bottom: 0.75rem;
        border: 1px solid var(--border-color);
    }

    .result-content {
        margin-bottom: 0.75rem;
    }

    .result-link {
        color: var(--primary-color);
        text-decoration: none;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    .result-link:hover {
        text-decoration: underline;
    }

    .loading {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 4rem 2rem;
        text-align: center;
    }

    .spinner {
        width: 40px;
        height: 40px;
        border: 2px solid var(--border-color);
        border-top: 2px solid var(--primary-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-bottom: 1rem;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .loading-text {
        color: var(--text-secondary);
        font-size: 1rem;
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 0.5; }
        50% { opacity: 1; }
    }

    .error {
        background: var(--bg-secondary);
        border: 1px solid #ff4444;
        color: #ff6666;
        padding: 1rem;
        border-radius: 12px;
        margin: 1rem 0;
        text-align: center;
    }
</style>
</head>
<body data-theme="dark">
<!-- Header -->
<header class="header">
    <div class="header-content">
        <a href="#" class="logo" onclick="showHome()">SADECE KURAN</a>
        <div class="header-actions">
            <button class="search-btn" onclick="app.toggleSearch()">
                <svg class="icon" viewBox="0 0 24 24">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
            </button>
            <button class="saved-btn" onclick="app.showSavedVerses()">
                <svg class="icon icon-sm" viewBox="0 0 24 24">
                    <path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"></path>
                </svg>
                <span>Kaydedilenler</span>
            </button>
            <button class="settings-btn" onclick="app.showSettings()">
                <svg class="icon" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M12 1v6m0 6v6"></path>
                    <path d="m15.5 3.5-3 3-3-3"></path>
                    <path d="m15.5 20.5-3-3-3 3"></path>
                    <path d="M1 12h6m6 0h6"></path>
                    <path d="m3.5 15.5 3-3 3 3"></path>
                    <path d="m20.5 15.5-3-3-3 3"></path>
                </svg>
            </button>
            <button class="theme-btn" onclick="app.toggleTheme()">
                <svg class="icon" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
            </button>
        </div>
    </div>
</header>

<!-- Search Modal -->
<div class="search-modal" id="searchModal">
    <div class="search-modal-content">
        <button class="search-close" onclick="app.toggleSearch()">
            <svg class="icon" viewBox="0 0 24 24">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
        <input type="text" class="search-input" id="searchInput" placeholder="Sure, ayet, kelime veya kök ara...">
        <div id="searchResults"></div>
    </div>
</div>

<!-- Save Modal -->
<div class="save-modal" id="saveModal">
    <div class="save-modal-content">
        <h3>Ayeti Kaydet</h3>
        <textarea class="save-note-input" id="saveNoteInput" placeholder="Bu ayet hakkında notunuzu yazın..."></textarea>
        <div class="save-modal-actions">
            <button class="save-modal-btn secondary" onclick="app.closeSaveModal()">İptal</button>
            <button class="save-modal-btn primary" onclick="app.confirmSaveVerse()">Kaydet</button>
        </div>
    </div>
</div>

<!-- Audio Player -->
<div class="audio-player" id="audioPlayer">
    <div class="audio-controls">
        <div class="audio-main-controls">
            <button class="audio-btn" id="audioPrevBtn" onclick="app.previousTrack()" title="Önceki">
                <svg class="icon" viewBox="0 0 24 24">
                    <polygon points="19,20 9,12 19,4"></polygon>
                    <line x1="5" y1="19" x2="5" y2="5"></line>
                </svg>
            </button>
            <button class="audio-play-btn" id="audioPlayBtn" onclick="app.toggleAudio()">
                <svg class="icon" viewBox="0 0 24 24">
                    <polygon points="5,3 19,12 5,21"></polygon>
                </svg>
            </button>
            <button class="audio-btn" id="audioNextBtn" onclick="app.nextTrack()" title="Sonraki">
                <svg class="icon" viewBox="0 0 24 24">
                    <polygon points="5,4 15,12 5,20"></polygon>
                    <line x1="19" y1="5" x2="19" y2="19"></line>
                </svg>
            </button>
            <button class="audio-btn" id="audioRepeatBtn" onclick="app.toggleRepeat()" title="Tekrar">
                <svg class="icon" viewBox="0 0 24 24">
                    <polyline points="17,1 21,5 17,9"></polyline>
                    <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                    <polyline points="7,23 3,19 7,15"></polyline>
                    <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                </svg>
            </button>
            <button class="audio-btn" id="audioShuffleBtn" onclick="app.toggleShuffle()" title="Karıştır">
                <svg class="icon" viewBox="0 0 24 24">
                    <polyline points="16,3 21,3 21,8"></polyline>
                    <line x1="4" y1="20" x2="21" y2="3"></line>
                    <polyline points="21,16 21,21 16,21"></polyline>
                    <line x1="15" y1="15" x2="21" y2="21"></line>
                    <line x1="4" y1="4" x2="9" y2="9"></line>
                </svg>
            </button>
        </div>
        <div class="audio-info">
            <div class="audio-title" id="audioTitle">Sure Adı</div>
            <div class="audio-progress-container">
                <div class="audio-progress" onclick="app.seekAudio(event)">
                    <div class="audio-progress-bar" id="audioProgressBar"></div>
                </div>
            </div>
            <div class="audio-time">
                <span id="currentTime">0:00</span>
                <span id="totalTime">0:00</span>
            </div>
        </div>
        <div class="audio-volume-control">
            <button class="audio-btn" onclick="app.toggleMute()" title="Sessiz">
                <svg class="icon" viewBox="0 0 24 24" id="volumeIcon">
                    <polygon points="11,5 6,9 2,9 2,15 6,15 11,19"></polygon>
                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                </svg>
            </button>
            <input type="range" class="audio-volume-slider" id="audioVolumeSlider" min="0" max="100" value="50" onchange="app.setAudioVolume(this.value)">
        </div>
        <button class="audio-close" onclick="app.closeAudio()">
            <svg class="icon" viewBox="0 0 24 24">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>
    <audio id="audioElement"></audio>
</div>

<!-- Main Content -->
<main class="main">
    <div class="content swipe-container" id="content">
        <!-- Content will be populated by JavaScript -->
    </div>
</main>

<script>
    class QuranApp {
        constructor() {
            this.data = null;
            this.translationsData = null; // Yeni: kuran_mealleri.json verisi
            this.currentHash = '';
            this.searchIndex = new Map();
            this.currentTheme = localStorage.getItem('theme') || 'dark';
            this.savedVerses = JSON.parse(localStorage.getItem('savedVerses') || '[]');
            this.currentAudio = null;
            this.currentSurahId = null;
            this.currentVerseNumber = null;
            this.pendingSaveVerse = null;
            this.touchStartX = 0;
            this.touchEndX = 0;
            this.audioState = {
                isPlaying: false,
                currentTime: 0,
                duration: 0,
                volume: 0.5,
                isMuted: false,
                isRepeat: false,
                isShuffle: false,
                playlist: [],
                currentIndex: 0
            };
            this.settings = {
                showTranscription: localStorage.getItem('showTranscription') !== 'false',
                autoPlay: localStorage.getItem('autoPlay') === 'true',
                volume: parseFloat(localStorage.getItem('volume') || '0.5')
            };
            this.init();
        }

        async init() {
            try {
                this.setTheme(this.currentTheme);
                await this.loadData();
                await this.loadTranslationsData(); // Yeni: meal verilerini yükle
                this.buildSearchIndex();
                this.setupEventListeners();
                this.handleRoute();
                this.updateSettingsUI();
            } catch (error) {
                console.error('Initialization error:', error);
                this.showError('Veri yüklenirken bir hata oluştu.');
            }
        }

        async loadData() {
            this.showLoading();
            try {
                const response = await fetch('all_surahs_data.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                this.data = data.surahs || data;
                console.log('Data loaded successfully:', this.data.length, 'surahs');
            } catch (error) {
                console.error('Error loading data:', error);
                this.data = this.getSampleData();
            }
        }

        // Yeni: kuran_mealleri.json dosyasını yükle
        async loadTranslationsData() {
            try {
                const response = await fetch('kuran_mealleri.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                this.translationsData = data.surahs || data;
                console.log('Translations data loaded successfully:', this.translationsData.length, 'surahs');
            } catch (error) {
                console.error('Error loading translations data:', error);
                this.translationsData = null;
            }
        }

        setTheme(theme) {
            this.currentTheme = theme;
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            
            const themeBtn = document.querySelector('.theme-btn .icon');
            if (themeBtn) {
                if (theme === 'dark') {
                    themeBtn.innerHTML = `
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    `;
                } else if (theme === 'light') {
                    themeBtn.innerHTML = `
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    `;
                } else {
                    themeBtn.innerHTML = `
                        <circle cx="12" cy="12" r="4"></circle>
                        <path d="M12 2v2"></path>
                        <path d="M12 20v2"></path>
                        <path d="m4.93 4.93 1.41 1.41"></path>
                        <path d="m17.66 17.66 1.41 1.41"></path>
                        <path d="M2 12h2"></path>
                        <path d="M20 12h2"></path>
                        <path d="m6.34 17.66-1.41 1.41"></path>
                        <path d="m19.07 4.93-1.41 1.41"></path>
                    `;
                }
            }
        }

        toggleTheme() {
            const themes = ['dark', 'light', 'sepia', 'blue', 'green', 'purple', 'rose'];
            const currentIndex = themes.indexOf(this.currentTheme);
            const nextIndex = (currentIndex + 1) % themes.length;
            this.setTheme(themes[nextIndex]);
        }

        showSettings() {
            window.location.hash = 'ayarlar';
        }

        updateSettingsUI() {
            // Settings UI will be updated when settings page is rendered
        }

        toggleTranscription() {
            this.settings.showTranscription = !this.settings.showTranscription;
            localStorage.setItem('showTranscription', this.settings.showTranscription);
            this.updateSettingsUI();
        }

        toggleAutoPlay() {
            this.settings.autoPlay = !this.settings.autoPlay;
            localStorage.setItem('autoPlay', this.settings.autoPlay);
            this.updateSettingsUI();
        }

        setVolume(value) {
            this.settings.volume = value / 100;
            localStorage.setItem('volume', this.settings.volume);
            this.audioState.volume = this.settings.volume;
            const audioElement = document.getElementById('audioElement');
            if (audioElement) {
                audioElement.volume = this.settings.volume;
            }
        }

        getSampleData() {
            return [
                {
                    id: 1,
                    name: "Fatiha",
                    name_en: "Al-Fatihah",
                    name_original: "سُورَةُ ٱلْفَاتِحَةِ",
                    verse_count: 7,
                    verses: [
                        {
                            verse_number: 1,
                            text: "بِسْمِ اللّٰهِ الرَّحْمٰنِ الرَّح۪يمِ",
                            transcription_tr: "Bismillahir rahmanir rahim.",
                            transcription_en: "Bismi Allahi arrahmani arraheem",
                            translation_tr: "Rahmeti Bol ve Kesintisiz Olan Allah'ın Adıyla",
                            translation_en: "Rahmeti Bol ve Kesintisiz Olan Allah'ın Adıyla",
                            words: [
                                {
                                    arabic: "بِسْمِ",
                                    transcription_tr: "bismi",
                                    transcription_en: "bismi",
                                    translation_tr: "adıyla",
                                    translation_en: "In the name",
                                    root: null
                                }
                            ]
                        }
                    ]
                }
            ];
        }

        buildSearchIndex() {
            if (!this.data) return;

            this.data.forEach(surah => {
                this.addToSearchIndex('surah', surah.name.toLowerCase(), {
                    type: 'sure',
                    id: surah.id,
                    title: surah.name,
                    content: `${surah.name} - ${surah.name_original}`,
                    url: `#sure-${surah.id}`
                });

                surah.verses?.forEach(verse => {
                    if (verse.translation_tr) {
                        this.addToSearchIndex('verse', verse.translation_tr.toLowerCase(), {
                            type: 'ayet',
                            id: `${surah.id}-${verse.verse_number}`,
                            title: `${surah.name} ${verse.verse_number}. Ayet`,
                            content: verse.translation_tr,
                            url: `#ayet-${surah.id}-${verse.verse_number}`
                        });
                    }

                    verse.words?.forEach((word, wordIndex) => {
                        if (word.translation_tr) {
                            this.addToSearchIndex('word', word.translation_tr.toLowerCase(), {
                                type: 'kelime',
                                id: `${surah.id}-${verse.verse_number}-${wordIndex}`,
                                title: `${word.arabic} - ${word.translation_tr}`,
                                content: `${word.transcription_tr} - ${word.translation_tr}`,
                                url: `#ayet-${surah.id}-${verse.verse_number}`
                            });
                        }

                        if (word.root) {
                            this.addToSearchIndex('root', word.root.latin.toLowerCase(), {
                                type: 'kök',
                                id: word.root.latin,
                                title: `${word.root.arabic} (${word.root.latin})`,
                                content: word.root.meaning || 'Kök anlamı',
                                url: `#ayet-${surah.id}-${verse.verse_number}`
                            });
                        }
                    });
                });
            });
        }

        addToSearchIndex(category, term, item) {
            if (!this.searchIndex.has(category)) {
                this.searchIndex.set(category, new Map());
            }
            
            const categoryIndex = this.searchIndex.get(category);
            if (!categoryIndex.has(term)) {
                categoryIndex.set(term, []);
            }
            categoryIndex.get(term).push(item);
        }

        setupEventListeners() {
            window.addEventListener('hashchange', () => this.handleRoute());

            const searchInput = document.getElementById('searchInput');
            let searchTimeout;
            searchInput.addEventListener('input', (e) => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    this.handleSearch(e.target.value);
                }, 300);
            });

            const content = document.getElementById('content');
            content.addEventListener('touchstart', (e) => {
                this.touchStartX = e.changedTouches[0].screenX;
            });

            content.addEventListener('touchend', (e) => {
                this.touchEndX = e.changedTouches[0].screenX;
                this.handleSwipe();
            });

            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('search-modal')) {
                    this.toggleSearch();
                }
                if (e.target.classList.contains('save-modal')) {
                    this.closeSaveModal();
                }
                if (e.target.classList.contains('home-search-results')) {
                    return;
                }
                if (!e.target.closest('.home-search')) {
                    this.hideHomeSearchResults();
                }
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    this.toggleSearch();
                    this.closeSaveModal();
                    this.hideHomeSearchResults();
                }
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    this.toggleSearch();
                }
                if (this.currentSurahId && this.currentVerseNumber) {
                    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                        e.preventDefault();
                        this.navigateToPreviousVerse();
                    }
                    if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                        e.preventDefault();
                        this.navigateToNextVerse();
                    }
                }
                if (e.key === ' ' && this.currentAudio) {
                    e.preventDefault();
                    this.toggleAudio();
                }
            });
        }

        handleSwipe() {
            if (!this.currentSurahId || !this.currentVerseNumber) return;
            
            const swipeThreshold = 50;
            const swipeDistance = this.touchEndX - this.touchStartX;
            
            if (Math.abs(swipeDistance) > swipeThreshold) {
                if (swipeDistance > 0) {
                    this.navigateToPreviousVerse();
                } else {
                    this.navigateToNextVerse();
                }
            }
        }

        handleRoute() {
            const hash = window.location.hash.slice(1);
            this.currentHash = hash;

            if (!hash) {
                this.renderHome();
            } else if (hash.startsWith('sure-')) {
                const surahId = parseInt(hash.split('-')[1]);
                this.renderSurah(surahId);
            } else if (hash.startsWith('ayet-')) {
                const parts = hash.split('-');
                const surahId = parseInt(parts[1]);
                const verseNumber = parseInt(parts[2]);
                this.currentSurahId = surahId;
                this.currentVerseNumber = verseNumber;
                this.renderVerse(surahId, verseNumber);
            } else if (hash.startsWith('ara-')) {
                const query = decodeURIComponent(hash.substring(4));
                this.renderSearchResults(query);
            } else if (hash === 'kaydedilenler') {
                this.renderSavedVerses();
            } else if (hash === 'ayarlar') {
                this.renderSettings();
            }
        }

        renderHome() {
            const content = document.getElementById('content');
            
            content.innerHTML = `
                <div class="home-hero">
                    <h1>SADECE KURAN</h1>
                    <p>Kuran-ı Kerim'in Türkçe meali ve detaylı kelime analizi. Her kelimeyi kökü ile birlikte inceleyin, ayetleri derinlemesine anlayın.</p>
                </div>

                <div class="home-search">
                    <input type="text" class="home-search-input" id="homeSearchInput" placeholder="Sure, ayet, kelime veya kök ara...">
                    <svg class="icon home-search-icon" viewBox="0 0 24 24">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <div class="home-search-results" id="homeSearchResults"></div>
                </div>

                <div class="surahs-grid" id="surahsGrid">
                    <!-- Surahs will be populated by JavaScript -->
                </div>
            `;

            this.renderSurahsGrid();
            this.setupHomeSearch();
        }

        setupHomeSearch() {
            const homeSearchInput = document.getElementById('homeSearchInput');
            let searchTimeout;
            
            homeSearchInput.addEventListener('input', (e) => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    this.handleHomeSearch(e.target.value);
                }, 300);
            });

            homeSearchInput.addEventListener('focus', () => {
                if (homeSearchInput.value.length >= 2) {
                    this.handleHomeSearch(homeSearchInput.value);
                }
            });
        }

        handleHomeSearch(query) {
            const resultsContainer = document.getElementById('homeSearchResults');
            
            if (!query || query.length < 2) {
                resultsContainer.classList.remove('active');
                return;
            }

            const results = this.search(query);
            
            if (results.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="home-search-result">
                        <div style="text-align: center; color: var(--text-secondary);">Sonuç bulunamadı</div>
                    </div>
                `;
                resultsContainer.classList.add('active');
                return;
            }

            resultsContainer.innerHTML = results.slice(0, 8).map(result => `
                <div class="home-search-result" onclick="window.location.hash='${result.url}'; app.hideHomeSearchResults();">
                    <div style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.25rem;">${result.type}</div>
                    <div style="font-weight: 600; margin-bottom: 0.25rem;">${result.title}</div>
                    <div style="font-size: 0.9rem; color: var(--text-secondary); overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${result.content}</div>
                </div>
            `).join('');
            
            resultsContainer.classList.add('active');
        }

        hideHomeSearchResults() {
            const resultsContainer = document.getElementById('homeSearchResults');
            if (resultsContainer) {
                resultsContainer.classList.remove('active');
            }
        }

        renderSurahsGrid() {
            const surahsGrid = document.getElementById('surahsGrid');
            if (!this.data) {
                surahsGrid.innerHTML = '<div class="loading"><div class="spinner"></div><div class="loading-text">Sureler yükleniyor...</div></div>';
                return;
            }

            surahsGrid.innerHTML = this.data.map((surah, index) => `
                <a href="#sure-${surah.id}" class="surah-card" style="animation-delay: ${index * 0.02}s;">
                    <div class="surah-header">
                        <div class="surah-number">${surah.id}</div>
                        <div class="surah-info">
                            <div class="surah-name">${surah.name}</div>
                            <div class="surah-arabic arabic">${surah.name_original}</div>
                            <div class="surah-meta">
                                <div class="meta-item">
                                    <svg class="icon" viewBox="0 0 24 24">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14,2 14,8 20,8"></polyline>
                                    </svg>
                                    ${surah.verse_count} ayet
                                </div>
                                <div class="meta-item">
                                    <svg class="icon" viewBox="0 0 24 24">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="2" y1="12" x2="6" y2="12"></line>
                                        <line x1="18" y1="12" x2="22" y2="12"></line>
                                    </svg>
                                    ${surah.name_en}
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            `).join('');
        }

        renderSettings() {
            const content = document.getElementById('content');
            
            content.innerHTML = `
                <div class="settings-page">
                    <div class="breadcrumb">
                        <a href="#" onclick="showHome()">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9,22 9,12 15,12 15,22"></polyline>
                            </svg>
                            Ana Sayfa
                        </a>
                        <span>›</span>
                        <span>Ayarlar</span>
                    </div>

                    <div class="settings-header">
                        <h1 class="settings-title">Ayarlar</h1>
                        <p class="settings-description">Uygulamanızı kişiselleştirin ve deneyiminizi iyileştirin</p>
                    </div>

                    <div class="settings-section" style="animation-delay: 0.1s;">
                        <h3>
                            <svg class="icon" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M12 1v6m0 6v6"></path>
                                <path d="m15.5 3.5-3 3-3-3"></path>
                                <path d="m15.5 20.5-3-3-3 3"></path>
                                <path d="M1 12h6m6 0h6"></path>
                                <path d="m3.5 15.5 3-3 3 3"></path>
                                <path d="m20.5 15.5-3-3-3 3"></path>
                            </svg>
                            Tema Seçimi
                        </h3>
                        <div class="theme-grid">
                            <div class="theme-option ${this.currentTheme === 'dark' ? 'active' : ''}" onclick="app.setTheme('dark')">
                                <div class="theme-preview dark"></div>
                                🌙 Karanlık
                            </div>
                            <div class="theme-option ${this.currentTheme === 'light' ? 'active' : ''}" onclick="app.setTheme('light')">
                                <div class="theme-preview light"></div>
                                ☀️ Aydınlık
                            </div>
                            <div class="theme-option ${this.currentTheme === 'sepia' ? 'active' : ''}" onclick="app.setTheme('sepia')">
                                <div class="theme-preview sepia"></div>
                                📜 Sepya
                            </div>
                            <div class="theme-option ${this.currentTheme === 'blue' ? 'active' : ''}" onclick="app.setTheme('blue')">
                                <div class="theme-preview blue"></div>
                                🔵 Mavi
                            </div>
                            <div class="theme-option ${this.currentTheme === 'green' ? 'active' : ''}" onclick="app.setTheme('green')">
                                <div class="theme-preview green"></div>
                                🟢 Yeşil
                            </div>
                            <div class="theme-option ${this.currentTheme === 'purple' ? 'active' : ''}" onclick="app.setTheme('purple')">
                                <div class="theme-preview purple"></div>
                                🟣 Mor
                            </div>
                            <div class="theme-option ${this.currentTheme === 'rose' ? 'active' : ''}" onclick="app.setTheme('rose')">
                                <div class="theme-preview rose"></div>
                                🌹 Pembe
                            </div>
                        </div>
                    </div>

                    <div class="settings-section" style="animation-delay: 0.2s;">
                        <h3>
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            Görünüm Ayarları
                        </h3>
                        <div class="setting-item">
                            <div>
                                <div class="setting-label">
                                    <svg class="icon" viewBox="0 0 24 24">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14,2 14,8 20,8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                        <polyline points="10,9 9,9 8,9"></polyline>
                                    </svg>
                                    Okunuş Göster
                                </div>
                                <div class="setting-description">Arapça kelimelerin okunuşunu göster</div>
                            </div>
                            <div class="toggle-switch ${this.settings.showTranscription ? 'active' : ''}" onclick="app.toggleTranscription()"></div>
                        </div>
                        <div class="setting-item">
                            <div>
                                <div class="setting-label">
                                    <svg class="icon" viewBox="0 0 24 24">
                                        <polygon points="5,3 19,12 5,21"></polygon>
                                    </svg>
                                    Otomatik Ses Çalma
                                </div>
                                <div class="setting-description">Ses dosyası yüklendiğinde otomatik başlat</div>
                            </div>
                            <div class="toggle-switch ${this.settings.autoPlay ? 'active' : ''}" onclick="app.toggleAutoPlay()"></div>
                        </div>
                    </div>

                    <div class="settings-section" style="animation-delay: 0.3s;">
                        <h3>
                            <svg class="icon" viewBox="0 0 24 24">
                                <polygon points="11,5 6,9 2,9 2,15 6,15 11,19"></polygon>
                                <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                            </svg>
                            Ses Ayarları
                        </h3>
                        <div class="setting-item">
                            <div>
                                <div class="setting-label">Ses Seviyesi</div>
                                <div class="setting-description">Varsayılan ses seviyesini ayarlayın</div>
                            </div>
                            <input type="range" class="volume-slider" min="0" max="100" value="${this.settings.volume * 100}" onchange="app.setVolume(this.value)">
                        </div>
                    </div>
                </div>
            `;

            document.querySelectorAll('.theme-option').forEach(option => {
                option.classList.remove('active');
            });
            document.querySelector(`.theme-option[onclick="app.setTheme('${this.currentTheme}')"]`)?.classList.add('active');
        }

        renderSurah(surahId) {
            const surah = this.data?.find(s => s.id === surahId);
            if (!surah) {
                this.showError('Sure bulunamadı.');
                return;
            }

            const content = document.getElementById('content');
            content.innerHTML = `
                <div class="surah-detail">
                    <div class="breadcrumb">
                        <a href="#" onclick="showHome()">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9,22 9,12 15,12 15,22"></polyline>
                            </svg>
                            Ana Sayfa
                        </a>
                        <span>›</span>
                        <span>${surah.name}</span>
                    </div>

                    <div class="surah-detail-header">
                        <button class="surah-play-btn" onclick="app.playSurah(${surah.id})" title="Sureyi dinle">
                            <svg class="icon" viewBox="0 0 24 24">
                                <polygon points="5,3 19,12 5,21"></polygon>
                            </svg>
                        </button>
                        <h1 class="surah-title">${surah.name}</h1>
                        <div class="surah-arabic-title arabic">${surah.name_original}</div>
                        <div class="surah-meta-info">
                            <div class="meta-detail">
                                <svg class="icon" viewBox="0 0 24 24">
                                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                                </svg>
                                <span>Sure No: ${surah.id}</span>
                            </div>
                            <div class="meta-detail">
                                <svg class="icon" viewBox="0 0 24 24">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14,2 14,8 20,8"></polyline>
                                </svg>
                                <span>Ayet Sayısı: ${surah.verse_count}</span>
                            </div>
                            <div class="meta-detail">
                                <svg class="icon" viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="2" y1="12" x2="6" y2="12"></line>
                                    <line x1="18" y1="12" x2="22" y2="12"></line>
                                </svg>
                                <span>İngilizce: ${surah.name_en}</span>
                            </div>
                        </div>
                    </div>

                    <div class="verses-container">
                        ${surah.verses?.map((verse, index) => `
                            <div class="verse-card" onclick="app.navigateToVerse(${surah.id}, ${verse.verse_number})" style="animation-delay: ${index * 0.05}s;">
                                <div class="verse-number-badge">${verse.verse_number}</div>
                                <div class="verse-translation">${verse.translation_tr || 'Meal bulunamadı'}</div>
                                <div class="verse-arabic arabic">${verse.text}</div>
                            </div>
                        `).join('') || '<p>Bu surede ayet bulunamadı.</p>'}
                    </div>
                </div>
            `;
        }

        renderVerse(surahId, verseNumber) {
            const surah = this.data?.find(s => s.id === surahId);
            const verse = surah?.verses?.find(v => v.verse_number === verseNumber);
            
            if (!surah || !verse) {
                this.showError('Ayet bulunamadı.');
                return;
            }

            const isFirstVerse = verseNumber === 1;
            const isLastVerse = verseNumber === surah.verse_count;
            const isSaved = this.isVerseSaved(surahId, verseNumber);

            const content = document.getElementById('content');
            content.innerHTML = `
                <div class="verse-detail">
                    <div class="breadcrumb">
                        <a href="#" onclick="showHome()">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9,22 9,12 15,12 15,22"></polyline>
                            </svg>
                            Ana Sayfa
                        </a>
                        <span>›</span>
                        <a href="#sure-${surahId}">${surah.name}</a>
                        <span>›</span>
                        <span>${verseNumber}. Ayet</span>
                    </div>
                    
                    <div class="verse-detail-header">
                        <div class="verse-actions">
                            <button class="save-btn ${isSaved ? 'saved' : ''}" onclick="app.toggleSaveVerse(${surahId}, ${verseNumber})" title="${isSaved ? 'Kayıtlı' : 'Kaydet'}">
                                <svg class="icon" viewBox="0 0 24 24">
                                    <path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"></path>
                                </svg>
                            </button>
                            <button class="share-btn" onclick="app.shareVerse(${surahId}, ${verseNumber})" title="Paylaş">
                                <svg class="icon" viewBox="0 0 24 24">
                                    <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                                    <polyline points="16,6 12,2 8,6"></polyline>
                                    <line x1="12" y1="2" x2="12" y2="15"></line>
                                </svg>
                            </button>
                        </div>
                        <div class="verse-detail-translation">${verse.translation_tr || 'Meal bulunamadı'}</div>
                        <div class="verse-detail-arabic arabic">${verse.text}</div>
                        ${verse.transcription_tr && this.settings.showTranscription ? `<div class="verse-detail-transcription">${verse.transcription_tr}</div>` : ''}
                    </div>

                    <div class="verse-navigation">
                        <a href="#ayet-${surahId}-${verseNumber - 1}" class="nav-btn ${isFirstVerse ? 'disabled' : ''}" ${isFirstVerse ? 'onclick="return false"' : ''}>
                            <svg class="icon" viewBox="0 0 24 24">
                                <polyline points="15,18 9,12 15,6"></polyline>
                            </svg>
                            Önceki
                        </a>
                        <span style="color: var(--text-muted); font-size: 0.9rem;">${verseNumber} / ${surah.verse_count}</span>
                        <a href="#ayet-${surahId}-${verseNumber + 1}" class="nav-btn ${isLastVerse ? 'disabled' : ''}" ${isLastVerse ? 'onclick="return false"' : ''}>
                            Sonraki
                            <svg class="icon" viewBox="0 0 24 24">
                                <polyline points="9,18 15,12 9,6"></polyline>
                            </svg>
                        </a>
                    </div>

                    <div class="tabs-container">
                        <div class="tabs-nav">
                            <button class="tab-button active" onclick="app.switchTab('word-analysis')">
                                <svg class="icon" viewBox="0 0 24 24">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14,2 14,8 20,8"></polyline>
                                </svg>
                                Kelime Analizi
                            </button>
                            <button class="tab-button" onclick="app.switchTab('translations')">
                                <svg class="icon" viewBox="0 0 24 24">
                                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                                </svg>
                                Diğer Mealler
                            </button>
                        </div>

                        <div id="word-analysis" class="tab-content active">
                            <div class="words-analysis">
                                <div class="words-grid">
                                    ${verse.words?.map((word, index) => `
                                        <div class="word-item">
                                            <div class="word-arabic arabic">${word.arabic}</div>
                                            ${word.transcription_tr && this.settings.showTranscription ? `<div class="word-transcription">${word.transcription_tr}</div>` : ''}
                                            ${word.translation_tr ? `<div class="word-translation">${word.translation_tr}</div>` : ''}
                                            ${word.root ? `
                                                <div class="word-root">
                                                    Kök: <strong>${word.root.arabic} (${word.root.latin})</strong>
                                                    ${word.root.meaning ? `<br><em>${word.root.meaning}</em>` : ''}
                                                </div>
                                            ` : ''}
                                        </div>
                                    `).join('') || '<p>Bu ayet için kelime analizi bulunamadı.</p>'}
                                </div>
                            </div>
                        </div>

                        <div id="translations" class="tab-content">
                            <div class="translations-container">
                                ${this.getAllTranslations(surahId, verseNumber).map(translation => `
                                    <div class="translation-item">
                                        <div class="translation-author">${translation.author}</div>
                                        <div class="translation-text">${translation.text}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Güncellenmiş: kuran_mealleri.json'dan meal verilerini çek
        getAllTranslations(surahId, verseNumber) {
            const translations = [];
            
            // Önce ana veri kaynağından meal al (all_surahs_data.json)
            const surah = this.data?.find(s => s.id === surahId);
            const verse = surah?.verses?.find(v => v.verse_number === verseNumber);
            
            if (verse?.translation_tr) {
                translations.push({
                    author: "Diyanet İşleri Başkanlığı",
                    text: verse.translation_tr
                });
            }

            // Yeni: kuran_mealleri.json'dan meal yazarlarını ve metinlerini çek
            if (this.translationsData) {
                const translationSurah = this.translationsData.find(s => s.id === surahId);
                const translationVerse = translationSurah?.verses?.find(v => v.verse_id === verseNumber);
                
                if (translationVerse?.translations) {
                    translationVerse.translations.forEach(translation => {
                        // Aynı yazardan birden fazla meal varsa sadece birini al
                        const existingAuthor = translations.find(t => t.author === translation.author);
                        if (!existingAuthor && translation.text && translation.text.trim()) {
                            translations.push({
                                author: translation.author,
                                text: translation.text
                            });
                        }
                    });
                }
            }

            // Eğer hiç meal yoksa varsayılan mesaj
            if (translations.length === 0) {
                translations.push({
                    author: "Bilgi",
                    text: "Bu ayet için meal bulunamadı."
                });
            }

            return translations;
        }

        renderSavedVerses() {
            const content = document.getElementById('content');
            
            if (this.savedVerses.length === 0) {
                content.innerHTML = `
                    <div class="saved-verses">
                        <div class="breadcrumb">
                            <a href="#" onclick="showHome()">
                                <svg class="icon" viewBox="0 0 24 24">
                                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                    <polyline points="9,22 9,12 15,12 15,22"></polyline>
                                </svg>
                                Ana Sayfa
                            </a>
                            <span>›</span>
                            <span>Kaydedilen Ayetler</span>
                        </div>
                        
                        <div class="text-center" style="padding: 4rem 2rem;">
                            <div style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.5;">📖</div>
                            <h2>Henüz kaydettiğiniz ayet yok</h2>
                            <p style="color: var(--text-secondary); margin-top: 1rem;">Beğendiğiniz ayetleri kaydetmek için ayet sayfalarındaki kaydet butonunu kullanın.</p>
                            <a href="#" onclick="showHome()" style="display: inline-block; margin-top: 2rem; padding: 1rem 2rem; background: var(--primary-color); color: var(--bg-primary); text-decoration: none; border-radius: 8px;">Ana Sayfaya Dön</a>
                        </div>
                    </div>
                `;
                return;
            }

            content.innerHTML = `
                <div class="saved-verses">
                    <div class="breadcrumb">
                        <a href="#" onclick="showHome()">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9,22 9,12 15,12 15,22"></polyline>
                            </svg>
                            Ana Sayfa
                        </a>
                        <span>›</span>
                        <span>Kaydedilen Ayetler</span>
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <h1 style="background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 0.5rem;">Kaydedilen Ayetler</h1>
                        <p style="color: var(--text-secondary);">${this.savedVerses.length} ayet kaydedildi</p>
                    </div>

                    ${this.savedVerses.map((savedVerse, index) => {
                        const surah = this.data?.find(s => s.id === savedVerse.surahId);
                        const verse = surah?.verses?.find(v => v.verse_number === savedVerse.verseNumber);
                        
                        return `
                            <div class="saved-verse-item" style="animation-delay: ${index * 0.1}s;">
                                <div class="saved-verse-header">
                                    <div class="saved-verse-title">
                                        <a href="#ayet-${savedVerse.surahId}-${savedVerse.verseNumber}" style="color: inherit; text-decoration: none;">
                                            ${surah?.name} ${savedVerse.verseNumber}. Ayet
                                        </a>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 1rem;">
                                        <div class="saved-verse-date">${new Date(savedVerse.savedAt).toLocaleDateString('tr-TR')}</div>
                                        <button class="remove-saved-btn" onclick="app.removeSavedVerse(${savedVerse.surahId}, ${savedVerse.verseNumber})" title="Kaldır">
                                            <svg class="icon" viewBox="0 0 24 24">
                                                <polyline points="3,6 5,6 21,6"></polyline>
                                                <path d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"></path>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <div style="margin-bottom: 1rem;">
                                    <div style="font-size: 1.1rem; line-height: 1.6; margin-bottom: 0.5rem; text-align: left; background: var(--bg-tertiary); padding: 1rem; border-radius: 8px; border: 1px solid var(--border-color);">${verse?.translation_tr || 'Meal bulunamadı'}</div>
                                    <div class="arabic" style="font-size: 1.3rem; padding: 1rem; background: transparent; border-radius: 8px; text-align: right;">${verse?.text || 'Ayet metni bulunamadı'}</div>
                                </div>
                                ${savedVerse.note ? `
                                    <div class="saved-verse-note">
                                        <strong>Notunuz:</strong> ${savedVerse.note}
                                    </div>
                                ` : ''}
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        navigateToVerse(surahId, verseNumber) {
            window.location.hash = `ayet-${surahId}-${verseNumber}`;
        }

        navigateToNextVerse() {
            if (!this.currentSurahId || !this.currentVerseNumber) return;
            
            const surah = this.data?.find(s => s.id === this.currentSurahId);
            if (!surah) return;
            
            if (this.currentVerseNumber < surah.verse_count) {
                window.location.hash = `ayet-${this.currentSurahId}-${this.currentVerseNumber + 1}`;
            }
        }

        navigateToPreviousVerse() {
            if (!this.currentSurahId || !this.currentVerseNumber) return;
            
            if (this.currentVerseNumber > 1) {
                window.location.hash = `ayet-${this.currentSurahId}-${this.currentVerseNumber - 1}`;
            }
        }

        switchTab(tabId) {
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        toggleSearch() {
            const modal = document.getElementById('searchModal');
            const input = document.getElementById('searchInput');
            
            if (modal.classList.contains('active')) {
                modal.classList.remove('active');
            } else {
                modal.classList.add('active');
                setTimeout(() => input.focus(), 100);
            }
        }

        handleSearch(query) {
            const resultsContainer = document.getElementById('searchResults');
            
            if (!query || query.length < 2) {
                resultsContainer.innerHTML = '';
                return;
            }

            const results = this.search(query);
            
            if (results.length === 0) {
                resultsContainer.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: var(--text-secondary);">
                        <p>Sonuç bulunamadı</p>
                    </div>
                `;
                return;
            }

            resultsContainer.innerHTML = `
                <div style="margin-top: 1rem;">
                    <div style="margin-bottom: 1rem; color: var(--text-secondary); font-size: 0.9rem;">
                        ${results.length} sonuç bulundu
                    </div>
                    ${results.slice(0, 10).map(result => `
                        <div style="padding: 1rem; margin-bottom: 0.5rem; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer;" onclick="window.location.hash='${result.url}'; app.toggleSearch();">
                            <div style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.25rem;">${result.type}</div>
                            <div style="font-weight: 600; margin-bottom: 0.25rem;">${result.title}</div>
                            <div style="font-size: 0.9rem; color: var(--text-secondary);">${result.content}</div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        search(query) {
            const results = [];
            const queryLower = query.toLowerCase();
            
            this.searchIndex.forEach((categoryMap, category) => {
                categoryMap.forEach((items, term) => {
                    if (term.includes(queryLower)) {
                        results.push(...items);
                    }
                });
            });

            const uniqueResults = results.filter((result, index, self) => 
                index === self.findIndex(r => r.id === result.id && r.type === result.type)
            );

            return uniqueResults.slice(0, 50);
        }

        showSavedVerses() {
            window.location.hash = 'kaydedilenler';
        }

        isVerseSaved(surahId, verseNumber) {
            return this.savedVerses.some(v => v.surahId === surahId && v.verseNumber === verseNumber);
        }

        toggleSaveVerse(surahId, verseNumber) {
            if (this.isVerseSaved(surahId, verseNumber)) {
                this.removeSavedVerse(surahId, verseNumber);
            } else {
                this.pendingSaveVerse = { surahId, verseNumber };
                this.showSaveModal();
            }
        }

        showSaveModal() {
            const modal = document.getElementById('saveModal');
            const input = document.getElementById('saveNoteInput');
            modal.classList.add('active');
            setTimeout(() => input.focus(), 100);
        }

        closeSaveModal() {
            const modal = document.getElementById('saveModal');
            const input = document.getElementById('saveNoteInput');
            modal.classList.remove('active');
            input.value = '';
            this.pendingSaveVerse = null;
        }

        confirmSaveVerse() {
            if (!this.pendingSaveVerse) return;
            
            const note = document.getElementById('saveNoteInput').value;
            const savedVerse = {
                surahId: this.pendingSaveVerse.surahId,
                verseNumber: this.pendingSaveVerse.verseNumber,
                note: note,
                savedAt: new Date().toISOString()
            };
            
            this.savedVerses.push(savedVerse);
            localStorage.setItem('savedVerses', JSON.stringify(this.savedVerses));
            
            this.closeSaveModal();
            this.showNotification('Ayet kaydedildi!');
            
            if (this.currentSurahId === this.pendingSaveVerse.surahId && 
                this.currentVerseNumber === this.pendingSaveVerse.verseNumber) {
                const saveBtn = document.querySelector('.save-btn');
                if (saveBtn) {
                    saveBtn.classList.add('saved');
                    saveBtn.title = 'Kayıtlı';
                }
            }
        }

        removeSavedVerse(surahId, verseNumber) {
            this.savedVerses = this.savedVerses.filter(v => 
                !(v.surahId === surahId && v.verseNumber === verseNumber)
            );
            localStorage.setItem('savedVerses', JSON.stringify(this.savedVerses));
            
            this.showNotification('Ayet kaydedilenlerden kaldırıldı');
            
            if (this.currentSurahId === surahId && this.currentVerseNumber === verseNumber) {
                const saveBtn = document.querySelector('.save-btn');
                if (saveBtn) {
                    saveBtn.classList.remove('saved');
                    saveBtn.title = 'Kaydet';
                }
            }
            
            if (this.currentHash === 'kaydedilenler') {
                this.renderSavedVerses();
            }
        }

        shareVerse(surahId, verseNumber) {
            const url = `${window.location.origin}${window.location.pathname}#ayet-${surahId}-${verseNumber}`;
            
            if (navigator.share) {
                const surah = this.data?.find(s => s.id === surahId);
                const verse = surah?.verses?.find(v => v.verse_number === verseNumber);
                
                navigator.share({
                    title: `${surah?.name} ${verseNumber}. Ayet`,
                    text: verse?.translation_tr || '',
                    url: url
                });
            } else {
                navigator.clipboard.writeText(url).then(() => {
                    this.showNotification('Ayet linki kopyalandı!');
                });
            }
        }

        playSurah(surahId) {
            const surah = this.data?.find(s => s.id === surahId);
            if (!surah) return;
            
            const audioUrl = `https://api.sadecekuran.com.tr/${surahId}.mp3`;
            const audioElement = document.getElementById('audioElement');
            const audioPlayer = document.getElementById('audioPlayer');
            const audioTitle = document.getElementById('audioTitle');
            
            if (this.currentAudio && !this.currentAudio.paused) {
                this.currentAudio.pause();
            }
            
            audioElement.src = audioUrl;
            audioElement.volume = this.audioState.volume;
            audioTitle.textContent = `${surah.name} Suresi`;
            audioPlayer.classList.add('active');
            
            this.currentAudio = audioElement;
            this.currentSurahId = surahId;
            this.audioState.isPlaying = false;
            
            this.removeAudioEventListeners();
            this.addAudioEventListeners();
            
            if (this.settings.autoPlay) {
                audioElement.play().catch(error => {
                    console.log('Autoplay prevented:', error);
                });
            }
        }

        removeAudioEventListeners() {
            const audioElement = document.getElementById('audioElement');
            if (audioElement) {
                audioElement.removeEventListener('loadstart', this.handleLoadStart);
                audioElement.removeEventListener('canplay', this.handleCanPlay);
                audioElement.removeEventListener('loadedmetadata', this.handleLoadedMetadata);
                audioElement.removeEventListener('timeupdate', this.handleTimeUpdate);
                audioElement.removeEventListener('ended', this.handleEnded);
                audioElement.removeEventListener('error', this.handleError);
                audioElement.removeEventListener('play', this.handlePlay);
                audioElement.removeEventListener('pause', this.handlePause);
            }
        }

        addAudioEventListeners() {
            const audioElement = document.getElementById('audioElement');
            if (!audioElement) return;

            this.handleLoadStart = () => {
                this.updatePlayButton('loading');
            };

            this.handleCanPlay = () => {
                this.updatePlayButton('play');
            };

            this.handleLoadedMetadata = () => {
                const totalTimeEl = document.getElementById('totalTime');
                if (totalTimeEl) {
                    totalTimeEl.textContent = this.formatTime(audioElement.duration);
                }
            };

            this.handleTimeUpdate = () => {
                if (audioElement.duration) {
                    const progress = (audioElement.currentTime / audioElement.duration) * 100;
                    const audioProgressBar = document.getElementById('audioProgressBar');
                    const currentTimeEl = document.getElementById('currentTime');
                    
                    if (audioProgressBar) {
                        audioProgressBar.style.width = progress + '%';
                    }
                    if (currentTimeEl) {
                        currentTimeEl.textContent = this.formatTime(audioElement.currentTime);
                    }
                    
                    this.audioState.currentTime = audioElement.currentTime;
                }
            };

            this.handleEnded = () => {
                if (this.audioState.isRepeat) {
                    audioElement.currentTime = 0;
                    audioElement.play();
                } else {
                    this.closeAudio();
                }
            };

            this.handleError = (error) => {
                console.error('Audio error:', error);
                this.closeAudio();
            };

            this.handlePlay = () => {
                this.audioState.isPlaying = true;
                this.updatePlayButton('pause');
            };

            this.handlePause = () => {
                this.audioState.isPlaying = false;
                this.updatePlayButton('play');
            };

            audioElement.addEventListener('loadstart', this.handleLoadStart);
            audioElement.addEventListener('canplay', this.handleCanPlay);
            audioElement.addEventListener('loadedmetadata', this.handleLoadedMetadata);
            audioElement.addEventListener('timeupdate', this.handleTimeUpdate);
            audioElement.addEventListener('ended', this.handleEnded);
            audioElement.addEventListener('error', this.handleError);
            audioElement.addEventListener('play', this.handlePlay);
            audioElement.addEventListener('pause', this.handlePause);
        }

        updatePlayButton(state) {
            const audioPlayBtn = document.getElementById('audioPlayBtn');
            if (!audioPlayBtn) return;

            switch (state) {
                case 'loading':
                    audioPlayBtn.innerHTML = `
                        <svg class="icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="10,8 16,12 10,16"></polyline>
                        </svg>
                    `;
                    break;
                case 'play':
                    audioPlayBtn.innerHTML = `
                        <svg class="icon" viewBox="0 0 24 24">
                            <polygon points="5,3 19,12 5,21"></polygon>
                        </svg>
                    `;
                    break;
                case 'pause':
                    audioPlayBtn.innerHTML = `
                        <svg class="icon" viewBox="0 0 24 24">
                            <rect x="6" y="4" width="4" height="16"></rect>
                            <rect x="14" y="4" width="4" height="16"></rect>
                        </svg>
                    `;
                    break;
            }
        }

        formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        seekAudio(event) {
            const audioElement = document.getElementById('audioElement');
            if (!audioElement || !audioElement.duration) return;

            const progressBar = event.currentTarget;
            const rect = progressBar.getBoundingClientRect();
            const clickX = event.clientX - rect.left;
            const width = rect.width;
            const percentage = clickX / width;
            
            audioElement.currentTime = audioElement.duration * percentage;
        }

        toggleAudio() {
            const audioElement = document.getElementById('audioElement');
            if (!audioElement) return;
            
            if (audioElement.paused) {
                audioElement.play().catch(error => {
                    console.log('Play failed:', error);
                    this.showNotification('Ses çalınamadı');
                });
            } else {
                audioElement.pause();
            }
        }

        previousTrack() {
            if (this.currentSurahId && this.currentSurahId > 1) {
                this.playSurah(this.currentSurahId - 1);
            }
        }

        nextTrack() {
            if (this.currentSurahId && this.currentSurahId < 114) {
                this.playSurah(this.currentSurahId + 1);
            }
        }

        toggleRepeat() {
            this.audioState.isRepeat = !this.audioState.isRepeat;
            const repeatBtn = document.getElementById('audioRepeatBtn');
            if (repeatBtn) {
                repeatBtn.style.color = this.audioState.isRepeat ? 'var(--primary-color)' : 'var(--text-secondary)';
            }
            this.showNotification(this.audioState.isRepeat ? 'Tekrar açık' : 'Tekrar kapalı');
        }

        toggleShuffle() {
            this.audioState.isShuffle = !this.audioState.isShuffle;
            const shuffleBtn = document.getElementById('audioShuffleBtn');
            if (shuffleBtn) {
                shuffleBtn.style.color = this.audioState.isShuffle ? 'var(--primary-color)' : 'var(--text-secondary)';
            }
            this.showNotification(this.audioState.isShuffle ? 'Karıştırma açık' : 'Karıştırma kapalı');
        }

        toggleMute() {
            const audioElement = document.getElementById('audioElement');
            const volumeIcon = document.getElementById('volumeIcon');
            
            if (!audioElement || !volumeIcon) return;

            this.audioState.isMuted = !this.audioState.isMuted;
            audioElement.muted = this.audioState.isMuted;

            if (this.audioState.isMuted) {
                volumeIcon.innerHTML = `
                    <polygon points="11,5 6,9 2,9 2,15 6,15 11,19"></polygon>
                    <line x1="23" y1="9" x2="17" y2="15"></line>
                    <line x1="17" y1="9" x2="23" y2="15"></line>
                `;
            } else {
                volumeIcon.innerHTML = `
                    <polygon points="11,5 6,9 2,9 2,15 6,15 11,19"></polygon>
                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                `;
            }
        }

        setAudioVolume(value) {
            const audioElement = document.getElementById('audioElement');
            if (audioElement) {
                this.audioState.volume = value / 100;
                audioElement.volume = this.audioState.volume;
                
                if (this.audioState.volume === 0) {
                    this.audioState.isMuted = true;
                    audioElement.muted = true;
                } else {
                    this.audioState.isMuted = false;
                    audioElement.muted = false;
                }
                
                this.updateVolumeIcon();
            }
        }

        updateVolumeIcon() {
            const volumeIcon = document.getElementById('volumeIcon');
            if (!volumeIcon) return;

            if (this.audioState.isMuted || this.audioState.volume === 0) {
                volumeIcon.innerHTML = `
                    <polygon points="11,5 6,9 2,9 2,15 6,15 11,19"></polygon>
                    <line x1="23" y1="9" x2="17" y2="15"></line>
                    <line x1="17" y1="9" x2="23" y2="15"></line>
                `;
            } else if (this.audioState.volume < 0.5) {
                volumeIcon.innerHTML = `
                    <polygon points="11,5 6,9 2,9 2,15 6,15 11,19"></polygon>
                    <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                `;
            } else {
                volumeIcon.innerHTML = `
                    <polygon points="11,5 6,9 2,9 2,15 6,15 11,19"></polygon>
                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                `;
            }
        }

        closeAudio() {
            const audioElement = document.getElementById('audioElement');
            const audioPlayer = document.getElementById('audioPlayer');
            const audioProgressBar = document.getElementById('audioProgressBar');
            const currentTimeEl = document.getElementById('currentTime');
            const totalTimeEl = document.getElementById('totalTime');
            
            if (audioElement) {
                audioElement.pause();
                audioElement.src = '';
                this.removeAudioEventListeners();
            }
            
            if (audioPlayer) {
                audioPlayer.classList.remove('active');
            }
            
            if (audioProgressBar) {
                audioProgressBar.style.width = '0%';
            }
            
            if (currentTimeEl) {
                currentTimeEl.textContent = '0:00';
            }
            
            if (totalTimeEl) {
                totalTimeEl.textContent = '0:00';
            }
            
            this.updatePlayButton('play');
            this.currentAudio = null;
            this.audioState.isPlaying = false;
            this.audioState.currentTime = 0;
            this.audioState.duration = 0;
        }

        showLoading() {
            const content = document.getElementById('content');
            content.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <div class="loading-text">Kuran verileri yükleniyor...</div>
                </div>
            `;
        }

        showError(message) {
            const content = document.getElementById('content');
            content.innerHTML = `
                <div class="error">
                    <strong>Hata:</strong> ${message}
                </div>
            `;
        }

        showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: var(--bg-secondary);
                color: var(--text-primary);
                padding: 1rem 1.5rem;
                border-radius: 12px;
                border: 1px solid var(--border-color);
                z-index: 1000;
                animation: slideInRight 0.3s ease;
                backdrop-filter: blur(10px);
                box-shadow: 0 8px 32px var(--shadow-dark);
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease forwards';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
    }

    function showHome() {
        window.location.hash = '';
    }

    const app = new QuranApp();
</script>
</body>
</html>
