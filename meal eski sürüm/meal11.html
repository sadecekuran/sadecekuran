<!doctype html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1" />
<title>SADECE KURAN</title>
<link rel="icon" type="image/png" href="/logokuran2.jpg"/>
<link rel="apple-touch-icon" href="/logokuran2.jpg">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap">
<style>
:root {
  --bg-primary: #000000;
  --bg-secondary: #111111;
  --bg-tertiary: #1a1a1a;
  --text-primary: #ffffff;
  --text-secondary: #cccccc;
  --text-muted: #888888;
  --border-color: #333333;
  --accent-light: #ffffff;
  --accent-dark: #000000;
  --shadow-light: rgba(255, 255, 255, 0.1);
  --shadow-dark: rgba(0, 0, 0, 0.5);
  --gradient-primary: linear-gradient(135deg, #ffffff, #cccccc);
  --gradient-secondary: linear-gradient(135deg, #333333, #111111);
  --wire-color: #666666;
  --highlight-dark: #1da1f2;
  --highlight-black: #4a9eff;
  --highlight-eye: #7ba7d9;
  --highlight-light: #1da1f2;
  --verse-font-size: 100%;
  --transition-speed: 0.3s;
  --transition-function: cubic-bezier(0.4, 0, 0.2, 1);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.6;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  transition: background 0.3s var(--transition-function), color 0.3s var(--transition-function);
  scrollbar-width: thin;
  scrollbar-color: var(--border-color) var(--bg-primary);
  overflow-x: hidden;
}

body.day-mode {
  --bg-primary: #ffffff;
  --bg-secondary: #f7f9fa;
  --bg-tertiary: #ebeef0;
  --text-primary: #0f1419;
  --text-secondary: #657786;
  --text-muted: #8899a6;
  --border-color: #e1e8ed;
  --shadow-dark: rgba(0, 0, 0, 0.1);
  --shadow-light: rgba(0, 0, 0, 0.05);
}

body.black-mode {
  --bg-primary: #000000;
  --bg-secondary: #0a0a0a;
  --bg-tertiary: #1a1a1a;
  --text-primary: #e0e0e0;
  --text-secondary: #b0b0b0;
  --text-muted: #808080;
  --border-color: #2a2a2a;
}

body.eye-mode {
  --bg-primary: #1a1a1a;
  --bg-secondary: #2d2d2d;
  --bg-tertiary: #404040;
  --text-primary: #d4d4d4;
  --text-secondary: #b4b4b4;
  --text-muted: #909090;
  --border-color: #505050;
}

/* Galaxy Animation Background */
.galaxy-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
  background: radial-gradient(ellipse at center, var(--bg-secondary) 0%, var(--bg-primary) 100%);
}

.stars {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
}

.star {
  position: absolute;
  background: white;
  border-radius: 50%;
  animation: twinkle 4s infinite ease-in-out;
}

.star:nth-child(odd) {
  animation-delay: 1s;
}

.star:nth-child(3n) {
  animation-delay: 2s;
}

.star:nth-child(4n) {
  animation-delay: 3s;
}

@keyframes twinkle {
  0%, 100% { 
    opacity: 0.2; 
    transform: scale(1); 
  }
  50% { 
    opacity: 0.8; 
    transform: scale(1.1); 
  }
}

.nebula {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background: 
    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.03) 0%, transparent 60%),
    radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.02) 0%, transparent 60%),
    radial-gradient(circle at 60% 20%, rgba(255, 255, 255, 0.025) 0%, transparent 60%);
  animation: nebula-drift 30s infinite linear;
}

@keyframes nebula-drift {
  0% { transform: rotate(0deg) scale(1); }
  50% { transform: rotate(180deg) scale(1.05); }
  100% { transform: rotate(360deg) scale(1); }
}

/* Wire-frame Icons */
.icon {
  display: inline-block;
  width: 20px;
  height: 20px;
  stroke: var(--wire-color);
  fill: none;
  stroke-width: 1.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.icon:hover {
  stroke: var(--text-primary);
  transform: scale(1.1);
}

/* Sidebar - Desktop */
.sidebar {
  width: 60px;
  background-color: var(--bg-secondary);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px 0;
  position: fixed;
  height: 100%;
  z-index: 10;
  transition: all 0.3s var(--transition-function);
  border-right: 1px solid var(--border-color);
  backdrop-filter: blur(20px);
}

.sidebar-logo {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-bottom: 30px;
  object-fit: cover;
  transition: all 0.3s ease;
}

.sidebar-logo:hover {
  transform: scale(1.1);
}

.sidebar-nav {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
}

.nav-item {
  width: 100%;
  display: flex;
  justify-content: center;
  padding: 15px 0;
  color: var(--text-secondary);
  font-size: 1.3rem;
  cursor: pointer;
  transition: all 0.3s var(--transition-function);
  position: relative;
  border-radius: 8px;
  margin: 2px 8px;
}

.nav-item:hover {
  background-color: var(--bg-tertiary);
  color: var(--text-primary);
  transform: translateX(5px);
}

.nav-item.active {
  color: var(--highlight-dark);
  background-color: rgba(29, 161, 242, 0.1);
}

.nav-item.active::before {
  content: '';
  position: absolute;
  left: 0;
  height: 100%;
  width: 3px;
  background-color: var(--highlight-dark);
  border-radius: 0 3px 3px 0;
}

/* Main Content */
.main-content {
  flex: 1;
  margin-left: 60px;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  animation: fadeInUp 1s ease-out 0.8s both;
}

/* Header */
.header {
  padding: 20px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  background: rgba(0, 0, 0, 0.95);
  backdrop-filter: blur(20px);
  z-index: 5;
  transition: all 0.3s var(--transition-function);
  animation: slideDown 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.header h1 {
  font-size: 1.8rem;
  font-weight: 700;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: fadeIn 1s ease-out 0.2s both;
}

.header-actions {
  display: flex;
  align-items: center;
  gap: 15px;
  animation: fadeIn 1s ease-out 0.4s both;
}

#theme-toggle {
  background: none;
  border: 1px solid var(--border-color);
  color: var(--text-primary);
  font-size: 1.2rem;
  cursor: pointer;
  padding: 12px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s var(--transition-function);
  width: 48px;
  height: 48px;
}

#theme-toggle:hover {
  background-color: var(--bg-tertiary);
  border-color: var(--highlight-dark);
  transform: scale(1.1);
}

/* Content Container */
.content {
  flex: 1;
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
  width: 100%;
  padding-bottom: 80px;
}

/* Controls */
.controls {
  margin-bottom: 30px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  animation: slideUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.2s both;
}

.search-container {
  position: relative;
}

#search {
  width: 100%;
  padding: 15px 20px 15px 60px;
  border: 2px solid var(--border-color);
  border-radius: 25px;
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  font-size: 1rem;
  transition: all 0.4s var(--transition-function);
  backdrop-filter: blur(10px);
}

#search:focus {
  outline: none;
  border-color: var(--highlight-dark);
  box-shadow: 0 0 0 4px rgba(29, 161, 242, 0.1);
  transform: translateY(-2px);
}

.search-icon {
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  font-size: 1.1rem;
  transition: all 0.3s ease;
}

#search:focus + .search-icon {
  color: var(--highlight-dark);
  transform: translateY(-50%) scale(1.1);
}

.controls-row {
  display: flex;
  gap: 15px;
}

#author-select {
  flex: 1;
  padding: 15px 20px;
  border: 2px solid var(--border-color);
  border-radius: 25px;
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  font-size: 1rem;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 20px center;
  background-size: 16px;
  transition: all 0.4s var(--transition-function);
  backdrop-filter: blur(10px);
}

#author-select:focus {
  outline: none;
  border-color: var(--highlight-dark);
  box-shadow: 0 0 0 4px rgba(29, 161, 242, 0.1);
  transform: translateY(-2px);
}

#show-saved {
  padding: 15px 25px;
  border: none;
  border-radius: 25px;
  background: linear-gradient(45deg, var(--highlight-dark), #1a91da);
  color: white;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: all 0.3s var(--transition-function);
  white-space: nowrap;
}

#show-saved:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(29, 161, 242, 0.3);
}

#loading-bar {
  width: 100%;
  height: 4px;
  background: var(--border-color);
  border-radius: 2px;
  overflow: hidden;
  display: none;
  margin-top: 10px;
}

#loading-bar .progress {
  width: 0%;
  height: 100%;
  background: var(--highlight-dark);
  border-radius: 2px;
  animation: loadingProgress 1.5s infinite ease-in-out;
}

/* Surah List */
#surahs {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
  margin-bottom: 20px;
  animation: slideUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.4s both;
}

.surah {
  background-color: var(--bg-secondary);
  padding: 20px;
  border-radius: 16px;
  cursor: pointer;
  transition: all 0.4s var(--transition-function);
  border: 1px solid var(--border-color);
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  backdrop-filter: blur(10px);
  transform: translateY(0);
  opacity: 0;
  animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.surah:nth-child(odd) {
  animation-delay: 0.1s;
}

.surah:nth-child(even) {
  animation-delay: 0.2s;
}

.surah:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 12px 30px var(--shadow-dark);
  border-color: var(--highlight-dark);
}

.surah h2 {
  font-size: 1.2rem;
  font-weight: 600;
  margin: 0;
  flex: 1;
  transition: all 0.3s ease;
}

.surah:hover h2 {
  color: var(--highlight-dark);
}

.surah-audio-controls {
  display: flex;
  align-items: center;
  opacity: 0;
  transition: all 0.3s var(--transition-function);
}

.surah:hover .surah-audio-controls {
  opacity: 1;
}

/* Audio Controls */
.audio-btn {
  background: none;
  border: 1px solid var(--border-color);
  color: var(--text-primary);
  font-size: 1rem;
  cursor: pointer;
  padding: 12px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s var(--transition-function);
  width: 44px;
  height: 44px;
}

.audio-btn:hover {
  background-color: var(--bg-tertiary);
  border-color: var(--highlight-dark);
  color: var(--highlight-dark);
  transform: scale(1.1);
}

.audio-btn.playing {
  background-color: var(--highlight-dark);
  border-color: var(--highlight-dark);
  color: white;
}

/* Verse Panel */
#verse-panel {
  background-color: var(--bg-secondary);
  border-radius: 16px;
  padding: 25px;
  margin-bottom: 20px;
  display: none;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px var(--shadow-dark);
  animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

#verse-panel.active {
  display: block;
}

.verse-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 1px solid var(--border-color);
}

.verse-panel-title {
  display: flex;
  align-items: center;
  gap: 15px;
}

#close-panel {
  background: none;
  border: none;
  color: var(--text-primary);
  font-size: 1.2rem;
  cursor: pointer;
  padding: 12px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s var(--transition-function);
}

#close-panel:hover {
  background-color: var(--bg-tertiary);
  transform: scale(1.1);
}

#panel-title {
  font-size: 1.8rem;
  font-weight: 600;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.verse {
  padding: 15px 0;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  transition: all 0.3s var(--transition-function);
  font-size: var(--verse-font-size);
  position: relative;
  border-radius: 8px;
  margin: 5px 0;
}

.verse:last-child {
  border-bottom: none;
}

.verse:hover {
  background-color: var(--bg-tertiary);
  padding-left: 15px;
  transform: translateX(5px);
}

.verse-actions {
  display: flex;
  gap: 10px;
  opacity: 0;
  transition: all 0.3s var(--transition-function);
}

.verse:hover .verse-actions {
  opacity: 1;
}

.verse .save-btn,
.verse .share-btn,
.verse .copy-url-btn {
  background: none;
  border: 1px solid var(--border-color);
  color: var(--text-primary);
  font-size: 1rem;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s var(--transition-function);
  width: 36px;
  height: 36px;
}

.verse .save-btn:hover,
.verse .share-btn:hover,
.verse .copy-url-btn:hover {
  background-color: var(--bg-tertiary);
  border-color: var(--highlight-dark);
  color: var(--highlight-dark);
  transform: scale(1.1);
}

.verse .save-btn.active {
  background-color: var(--highlight-dark);
  border-color: var(--highlight-dark);
  color: white;
}

/* Verse Detail Panel */
#verse-detail-panel {
  background-color: var(--bg-secondary);
  border-radius: 16px;
  padding: 25px;
  margin-bottom: 20px;
  display: none;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px var(--shadow-dark);
  animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

#verse-detail-panel.active {
  display: block;
}

#verse-detail-panel h3 {
  font-size: 1.8rem;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 1px solid var(--border-color);
  text-align: center;
  position: relative;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

#verse-detail-panel .back-btn {
  position: absolute;
  left: 0;
  top: 0;
  background: none;
  border: none;
  color: var(--text-primary);
  font-size: 1.2rem;
  cursor: pointer;
  padding: 12px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s var(--transition-function);
}

#verse-detail-panel .back-btn:hover {
  background-color: var(--bg-tertiary);
  transform: scale(1.1);
}

.selected-translation {
  background: linear-gradient(135deg, var(--highlight-dark), #1a91da);
  padding: 25px;
  border-radius: 16px;
  margin-bottom: 25px;
  font-size: 1.1rem;
  line-height: 1.8;
  color: white;
  font-weight: 500;
  font-size: var(--verse-font-size);
  box-shadow: 0 8px 25px rgba(29, 161, 242, 0.2);
}

/* Desktop Layout */
@media (min-width: 1024px) {
  .verse-content-container {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: 30px;
    align-items: start;
  }

  .verse-main-content {
    grid-column: 2;
    display: flex;
    flex-direction: column;
    gap: 25px;
  }

  .verse-left-sidebar,
  .verse-right-sidebar {
    background-color: var(--bg-tertiary);
    border-radius: 16px;
    padding: 20px;
    border: 1px solid var(--border-color);
    backdrop-filter: blur(10px);
    position: sticky;
    top: 120px;
  }

  .sidebar-title {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 20px;
    color: var(--highlight-dark);
    text-align: center;
    border-bottom: 2px solid var(--highlight-dark);
    padding-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .verse-navigation-buttons {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: 15px;
    margin: 25px 0;
  }

  .nav-btn {
    background: linear-gradient(45deg, var(--highlight-dark), #1a91da);
    border: none;
    color: white;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    padding: 12px 20px;
    border-radius: 25px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: all 0.3s var(--transition-function);
    min-width: 120px;
  }

  .nav-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(29, 161, 242, 0.3);
  }

  .tab-container {
    display: none;
  }
}

/* Mobile Layout */
@media (max-width: 1023px) {
  .verse-content-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .verse-left-sidebar,
  .verse-right-sidebar {
    display: none;
  }

  .tab-container {
    margin-top: 20px;
    display: block;
  }

  .tab-buttons {
    display: flex;
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 15px;
    background-color: var(--bg-tertiary);
    border-radius: 12px 12px 0 0;
    overflow: hidden;
  }

  .tab-button {
    padding: 15px 20px;
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 0.95rem;
    position: relative;
    transition: all 0.3s var(--transition-function);
    flex: 1;
    text-align: center;
  }

  .tab-button.active {
    color: var(--highlight-dark);
    background-color: var(--bg-secondary);
    font-weight: 500;
  }

  .tab-content {
    display: none;
    background-color: var(--bg-tertiary);
    border-radius: 0 0 12px 12px;
    padding: 20px;
  }

  .tab-content.active {
    display: block;
  }

  .verse-navigation-buttons {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 20px 0;
    gap: 10px;
    flex-wrap: wrap;
  }

  .nav-btn {
    background: linear-gradient(45deg, var(--highlight-dark), #1a91da);
    border: none;
    color: white;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    padding: 10px 15px;
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    transition: all 0.3s var(--transition-function);
    min-width: 100px;
  }

  .nav-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(29, 161, 242, 0.3);
  }
}

/* Word Analysis */
.word-analysis {
  margin-top: 20px;
  border-top: 1px solid var(--border-color);
  padding-top: 20px;
}

.word-analysis h4 {
  font-size: 1.2rem;
  margin-bottom: 15px;
  color: var(--highlight-dark);
}

.word-list {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-bottom: 20px;
}

.word-item {
  background-color: var(--bg-secondary);
  border-radius: 12px;
  padding: 15px;
  border: 1px solid var(--border-color);
  cursor: pointer;
  transition: all 0.4s var(--transition-function);
  min-width: 120px;
  text-align: center;
  backdrop-filter: blur(10px);
  transform: translateY(0);
}

.word-item:hover {
  transform: translateY(-5px) scale(1.02);
  box-shadow: 0 8px 25px var(--shadow-dark);
  border-color: var(--highlight-dark);
  background-color: var(--bg-tertiary);
}

.word-arabic {
  font-family: 'Amiri', 'Scheherazade New', serif;
  font-size: 1.4em;
  margin-bottom: 8px;
  direction: rtl;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.word-item:hover .word-arabic {
  color: var(--highlight-dark);
  transform: scale(1.1);
}

.word-translation {
  font-size: 0.9rem;
  color: var(--text-secondary);
  line-height: 1.4;
}

/* Arabic Text */
.arabic-text {
  font-family: 'Amiri', 'Scheherazade New', serif;
  direction: rtl;
  text-align: right;
  font-size: 1.8em;
  line-height: 2;
  margin-bottom: 20px;
  padding: 25px;
  background-color: var(--bg-tertiary);
  border-radius: 16px;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
}

.arabic-text:hover {
  transform: scale(1.01);
  box-shadow: 0 8px 25px var(--shadow-dark);
}

.transcription {
  margin-bottom: 20px;
  padding: 20px;
  background-color: var(--bg-tertiary);
  border-radius: 16px;
  border: 1px solid var(--border-color);
  font-style: italic;
  backdrop-filter: blur(10px);
}

.transcription-label {
  font-weight: 600;
  color: var(--highlight-dark);
  margin-right: 8px;
}

/* Other Translations */
.other-translations {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: 10px 0;
}

.translation-item {
  position: relative;
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  padding: 20px 15px 15px 15px;
  transition: all 0.4s var(--transition-function);
  animation: fadeInUp 0.4s ease-out;
  backdrop-filter: blur(10px);
}

.translation-item:hover {
  transform: translateY(-3px) scale(1.01);
  box-shadow: 0 8px 25px var(--shadow-dark);
  border-color: var(--highlight-dark);
}

.floating-label {
  position: absolute;
  top: -10px;
  left: 20px;
  background: linear-gradient(45deg, var(--highlight-dark), #1a91da);
  color: white;
  padding: 6px 15px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  z-index: 2;
}

.translation-text {
  color: var(--text-primary);
  font-size: var(--verse-font-size);
  line-height: 1.7;
  margin: 0;
  padding-top: 8px;
}

/* Saved Verses */
#saved-verses {
  background-color: var(--bg-secondary);
  border-radius: 16px;
  padding: 25px;
  margin-bottom: 20px;
  display: none;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px var(--shadow-dark);
}

#saved-verses h2 {
  font-size: 2rem;
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 2px solid var(--highlight-dark);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
}

#saved-verses h2 i {
  color: var(--highlight-dark);
  font-size: 1.8rem;
}

#saved-list {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-bottom: 25px;
}

.saved-verse-item {
  background-color: var(--bg-tertiary);
  border-radius: 16px;
  padding: 25px;
  border: 1px solid var(--border-color);
  transition: all 0.4s var(--transition-function);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
}

.saved-verse-item:hover {
  transform: translateY(-5px) scale(1.01);
  box-shadow: 0 12px 30px var(--shadow-dark);
  border-color: var(--highlight-dark);
}

.saved-verse-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 4px;
  background: linear-gradient(45deg, var(--highlight-dark), #1a91da);
}

#back-to-surahs {
  padding: 15px 30px;
  border: none;
  border-radius: 25px;
  background: linear-gradient(45deg, var(--highlight-dark), #1a91da);
  color: white;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin: 0 auto;
  transition: all 0.3s var(--transition-function);
  min-width: 200px;
}

#back-to-surahs:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(29, 161, 242, 0.3);
}

/* Search Results */
#main-search-results {
  margin-top: 20px;
  display: none;
  animation: slideUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.2s both;
}

#main-search-results.active {
  display: block;
}

.verse-result {
  background-color: var(--bg-secondary);
  padding: 20px;
  border-radius: 16px;
  cursor: pointer;
  transition: all 0.4s var(--transition-function);
  border: 1px solid var(--border-color);
  margin-bottom: 15px;
  backdrop-filter: blur(10px);
}

.verse-result:hover {
  transform: translateY(-5px) scale(1.01);
  box-shadow: 0 12px 30px var(--shadow-dark);
  border-color: var(--highlight-dark);
}

/* Verse Number Styling */
.verse-number-bg {
  display: inline-block;
  background-color: rgba(29, 161, 242, 0.15);
  color: var(--highlight-dark);
  font-weight: bold;
  padding: 4px 10px;
  border-radius: 8px;
  margin-right: 10px;
  min-width: 35px;
  text-align: center;
  transition: all 0.3s ease;
}

.verse-number-bg:hover {
  background-color: var(--highlight-dark);
  color: white;
  transform: scale(1.1);
}

/* Audio Player */
.audio-player {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
  border-top: 1px solid var(--border-color);
  padding: 20px;
  z-index: 100;
  transform: translateY(100%);
  transition: transform 0.4s var(--transition-function);
  backdrop-filter: blur(20px);
  box-shadow: 0 -8px 32px var(--shadow-dark);
}

.audio-player.active {
  transform: translateY(0);
}

.audio-player-content {
  display: flex;
  align-items: center;
  gap: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.audio-info {
  flex: 1;
  min-width: 0;
}

.audio-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 5px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.audio-subtitle {
  font-size: 0.9rem;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.audio-controls-main {
  display: flex;
  align-items: center;
  gap: 15px;
}

.audio-control-btn {
  background: none;
  border: 1px solid var(--border-color);
  color: var(--text-primary);
  font-size: 1.3rem;
  cursor: pointer;
  padding: 15px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s var(--transition-function);
  width: 55px;
  height: 55px;
}

.audio-control-btn:hover {
  background-color: var(--bg-tertiary);
  border-color: var(--highlight-dark);
  color: var(--highlight-dark);
  transform: scale(1.1);
}

.audio-play-btn {
  background: linear-gradient(45deg, var(--highlight-dark), #1a91da);
  color: white;
  font-size: 1.5rem;
  width: 65px;
  height: 65px;
  border: none;
}

.audio-play-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 8px 25px rgba(29, 161, 242, 0.3);
}

/* Settings */
#settings {
  background-color: var(--bg-secondary);
  border-radius: 16px;
  padding: 25px;
  margin-bottom: 20px;
  display: none;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px var(--shadow-dark);
}

#settings h2 {
  font-size: 2rem;
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 2px solid var(--highlight-dark);
  display: flex;
  align-items: center;
  gap: 15px;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
}

#settings h2 i {
  color: var(--highlight-dark);
  font-size: 1.8rem;
}

.settings-section {
  margin-bottom: 30px;
}

.settings-section h3 {
  font-size: 1.3rem;
  margin-bottom: 20px;
  font-weight: 600;
  color: var(--text-primary);
}

.setting-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  background-color: var(--bg-tertiary);
  border-radius: 12px;
  margin-bottom: 15px;
  transition: all 0.3s var(--transition-function);
  border: 1px solid var(--border-color);
}

.setting-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px var(--shadow-dark);
  border-color: var(--highlight-dark);
}

/* Bottom Navigation */
.bottom-nav {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
  border-radius: 30px;
  padding: 8px;
  display: none;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 32px var(--shadow-dark);
  z-index: 50;
  backdrop-filter: blur(20px);
  border: 1px solid var(--border-color);
}

.bottom-nav-item {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 50px;
  height: 50px;
  border-radius: 25px;
  cursor: pointer;
  transition: all 0.3s ease;
  color: var(--text-secondary);
}

.bottom-nav-item:hover {
  background-color: var(--bg-tertiary);
  color: var(--text-primary);
  transform: scale(1.1);
}

.bottom-nav-item.active {
  background-color: var(--highlight-dark);
  color: white;
}

.home-btn {
  width: 60px;
  height: 60px;
  border-radius: 30px;
  background: linear-gradient(45deg, var(--highlight-dark), #1a91da);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  margin: 0 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.home-btn:hover {
  transform: translateY(-5px) scale(1.1);
  box-shadow: 0 8px 25px rgba(29, 161, 242, 0.3);
}

/* Animations */
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes loadingProgress {
  0% { width: 0%; }
  50% { width: 100%; }
  100% { width: 0%; }
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .sidebar {
    display: none;
  }

  .main-content {
    margin-left: 0;
  }

  .content {
    padding: 15px;
    padding-bottom: 100px;
  }

  .header {
    padding: 15px;
  }

  .header h1 {
    font-size: 1.5rem;
  }

  .controls-row {
    flex-direction: column;
  }

  #surahs {
    grid-template-columns: 1fr;
    gap: 15px;
  }

  .surah {
    padding: 15px;
  }

  .surah h2 {
    font-size: 1.1rem;
  }

  .surah-audio-controls {
    opacity: 1;
  }

  .bottom-nav {
    display: flex;
  }

  .audio-player {
    padding: 15px;
  }

  .audio-player-content {
    flex-direction: column;
    gap: 15px;
  }

  .audio-info {
    text-align: center;
    order: 1;
  }

  .audio-controls-main {
    order: 2;
    justify-content: center;
    gap: 20px;
  }

  body.audio-playing .content {
    padding-bottom: 200px;
  }
}

@media (min-width: 769px) {
  .bottom-nav {
    display: none;
  }

  body.audio-playing .content {
    padding-bottom: 140px;
  }
}

/* Utility Classes */
.hidden {
  display: none !important;
}

.text-center {
  text-align: center;
}

.highlight {
  background-color: rgba(29, 161, 242, 0.2);
  padding: 0 4px;
  border-radius: 4px;
  font-weight: 500;
}

.verse-link {
  color: inherit;
  text-decoration: none;
  display: inline-block;
  margin-right: 8px;
  transition: all 0.3s ease;
}

.verse-link:hover {
  text-decoration: underline;
  color: var(--highlight-dark);
  transform: scale(1.05);
}

/* Word Library Integration Styles */
.word-item.library-link {
  position: relative;
  overflow: hidden;
}

.word-item.library-link::after {
  content: '📚';
  position: absolute;
  top: 5px;
  right: 5px;
  font-size: 0.8rem;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.word-item.library-link:hover::after {
  opacity: 1;
}

.word-item.library-link:hover {
  background: linear-gradient(135deg, var(--highlight-dark), #1a91da);
  color: white;
  border-color: var(--highlight-dark);
}

.word-item.library-link:hover .word-arabic,
.word-item.library-link:hover .word-translation {
  color: white;
}
</style>
</head>
<body>
<!-- Galaxy Background -->
<div class="galaxy-bg"></div>
<div class="stars" id="stars"></div>
<div class="nebula"></div>

<!-- Desktop Sidebar -->
<div class="sidebar">
<img src="sdc1.PNG" alt="Logo" class="sidebar-logo" />
<nav class="sidebar-nav">
<div class="nav-item active" id="home-nav-desktop">
<i class="fas fa-home"></i>
</div>
<div class="nav-item" id="search-nav-desktop">
<i class="fas fa-search"></i>
</div>
<div class="nav-item" id="saved-nav-desktop">
<i class="fas fa-bookmark"></i>
</div>
<div class="nav-item" id="meal-writers-nav-desktop">
<i class="fas fa-users"></i>
</div>
<div class="nav-item" id="podcasts-nav-desktop">
<i class="fas fa-podcast"></i>
</div>
<div class="nav-item" id="settings-nav-desktop">
<i class="fas fa-cog"></i>
</div>
</nav>
</div>

<div class="main-content">
<header class="header">
<h1>SADECE KURAN</h1>
<div class="header-actions">
<button id="theme-toggle"><i class="fas fa-moon"></i></button>
</div>
</header>

<div class="content">
<div class="controls">
<div class="search-container">
<input type="text" id="search" placeholder="Sure, ayet veya kelime ara..." />
<i class="fas fa-search search-icon"></i>
</div>
<div class="controls-row">
<select id="author-select">
<option value="">Meal Seçin</option>
</select>
<button id="show-saved"><i class="fas fa-bookmark"></i> Kaydedilenler</button>
</div>
<div id="loading-bar">
<div class="progress"></div>
</div>
</div>

<div id="main-search-results"></div>

<div id="surahs"></div>

<div id="verse-panel">
<div class="verse-panel-header">
<div class="verse-panel-title">
<button id="close-panel"><i class="fas fa-arrow-left"></i></button>
<span id="panel-title"></span>
</div>
<div class="audio-controls">
<button id="surah-audio-btn" class="audio-btn" title="Sureyi dinle">
<i class="fas fa-play"></i>
</button>
</div>
</div>
<div id="verses"></div>
</div>

<div id="verse-detail-panel">
<h3>
<button id="back-btn" class="back-btn"><i class="fas fa-arrow-left"></i></button>
<span id="verse-detail-title"></span>
</h3>

<div class="verse-content-container">
<div class="verse-left-sidebar">
<div class="sidebar-title">
DİĞER MEALLER
<button class="sort-authors-btn" id="sort-authors-btn">
  <i class="fas fa-sort"></i> Sırala
</button>
</div>
<div id="other-translations" class="other-translations"></div>
</div>

<div class="verse-main-content">
<div class="verse-section">
<div id="selected-translation" class="selected-translation"></div>
</div>

<div class="verse-section">
<div id="arabic-text" class="arabic-text"></div>
</div>

<div class="verse-section">
<div class="transcription">
<span class="transcription-label">T.:</span>
<span id="transcription-tr"></span>
</div>
</div>

<div class="verse-navigation-buttons">
<div class="verse-navigation-audio">
<button id="verse-audio-btn" class="audio-btn" title="Ayeti dinle">
  <i class="fas fa-play"></i>
</button>
<button id="verse-detail-save-btn" class="verse-detail-save-btn" title="Kaydet">
  <i class="fas fa-bookmark"></i> 
</button>
<button id="verse-detail-share-btn" class="verse-detail-share-btn" title="Paylaş">
  <i class="fas fa-share-alt"></i> 
</button>
</div>
<div class="verse-detail-actions">
</div>
<button id="prev-verse-btn" class="nav-btn"><i class="fas fa-chevron-left"></i> </button>
<button id="next-verse-btn" class="nav-btn"> <i class="fas fa-chevron-right"></i></button>
</div>
</div>

<div class="verse-right-sidebar">
<h4 class="sidebar-title">KELİME ANALİZİ</h4>
<div class="word-analysis">
<div id="word-list" class="word-list"></div>
<div id="word-detail" class="word-detail"></div>
</div>
</div>
</div>

<div class="tab-container">
<div class="tab-buttons">
<div class="tab-header">
<button class="tab-button active" data-tab="other-translations">
MEALLER
</button>
<button class="sort-authors-btn" id="sort-authors-btn-mobile">
<i class="fas fa-sort"></i>
</button>
</div>
<button class="tab-button" data-tab="word-analysis">KELİME ANALİZİ</button>
</div>

<div class="tab-content active" id="other-translations-tab">
<div id="other-translations-mobile" class="other-translations"></div>
</div>

<div class="tab-content" id="word-analysis-tab">
<div class="word-analysis">
<div id="word-list-mobile" class="word-list"></div>
<div id="word-detail-mobile" class="word-detail"></div>
</div>
</div>
</div>
</div>

<div class="author-sort-panel" id="author-sort-panel">
<div class="author-sort-content">
<div class="author-sort-header">
<h3 class="author-sort-title">Meal Yazarları Sıralaması</h3>
<button class="close-sort-panel" id="close-sort-panel">
<i class="fas fa-times"></i>
</button>
</div>

<div class="author-list" id="author-list">
</div>

<div class="sort-actions">
<button class="sort-btn reset-sort-btn" id="reset-sort-btn">
<i class="fas fa-undo"></i> Sıfırla
</button>
<button class="sort-btn save-sort-btn" id="save-sort-btn">
<i class="fas fa-save"></i> Kaydet
</button>
</div>
</div>
</div>

<div id="saved-verses">
<h2><i class="fas fa-bookmark"></i> Kaydedilen Ayetler</h2>
<div id="saved-list"></div>
<button id="back-to-surahs"><i class="fas fa-arrow-left"></i> Surelere Dön</button>
</div>

<!-- Note Modal -->
<div class="note-modal" id="note-modal">
<div class="note-modal-content">
<div class="note-modal-header">
<h3 class="note-modal-title">Not Ekle/Düzenle</h3>
<button class="close-note-modal" id="close-note-modal">
<i class="fas fa-times"></i>
</button>
</div>

<div class="note-verse-preview" id="note-verse-preview">
<div class="note-verse-text" id="note-verse-text"></div>
<div class="note-verse-ref" id="note-verse-ref"></div>
</div>

<textarea class="note-textarea" id="note-textarea" placeholder="Notunuzu buraya yazın..."></textarea>

<div class="note-actions">
<button class="note-btn cancel-note-btn" id="cancel-note-btn">
<i class="fas fa-times"></i> İptal
</button>
ncbm c<button class="note-btn save-note-btn" id="save-note-btn">
<i class="fas fa-save"></i> Kaydet
</button>
</div>
</div>
</div>

<div id="podcasts">
<h2><i class="fas fa-podcast"></i> Podcastler</h2>

<div class="podcast-container">
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/3RRKc1JEyzLSkBjfut5EwH?utm_source=generator" width="100%" height="156" title="Sadece Kuran Podcast" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>

</div>
</div>

<div id="settings">
<h2><i class="fas fa-cog"></i> Ayarlar</h2>

<div class="settings-section">
<h3>Görünüm</h3>

<div class="setting-item">
<div class="setting-label">
<span>Tema Modu</span>
<span>Karanlık, tam siyah, göz dostu veya açık tema seçin</span>
</div>
<div class="theme-mode-selection">
<div class="theme-option" data-theme="dark">
<i class="fas fa-moon"></i> Karanlık
</div>
<div class="theme-option" data-theme="black">
<i class="fas fa-circle"></i> Tam Siyah
</div>
<div class="theme-option" data-theme="eye">
<i class="fas fa-eye"></i> Göz Dostu
</div>
<div class="theme-option" data-theme="day">
<i class="fas fa-sun"></i> Açık
</div>
</div>
</div>

<div class="setting-item">
<div class="setting-label">
<span>Tema Rengi</span>
<span>Uygulamanın vurgu rengini seçin</span>
</div>
<div class="color-options">
<div class="color-option active" style="background-color: #1da1f2;" data-color="#1da1f2"></div>
<div class="color-option" style="background-color: #4caf50;" data-color="#4caf50"></div>
<div class="color-option" style="background-color: #f44336;" data-color="#f44336"></div>
<div class="color-option" style="background-color: #9c27b0;" data-color="#9c27b0"></div>
<div class="color-option" style="background-color: #ff9800;" data-color="#ff9800"></div>
<div class="color-option" style="background-color: #7b7675;" data-color="#7b7675"></div>
</div>
</div>

<div class="setting-item">
<div class="setting-label">
<span>Yazı Boyutu</span>
<span>Ayet metinlerinin boyutunu ayarlayın</span>
</div>
<div class="font-size-control">
<button class="font-size-btn" id="decrease-font"><i class="fas fa-minus"></i></button>
<span class="font-size-value" id="font-size-value">100%</span>
<button class="font-size-btn" id="increase-font"><i class="fas fa-plus"></i></button>
</div>
</div>

<div class="setting-item">
<div class="setting-label">
<span>Ayet Numarası Stili</span>
<span>Ayet numaralarının görünümünü seçin</span>
</div>
<div class="custom-select">
<select id="verse-number-style">
<option value="default">Varsayılan</option>
<option value="bg" selected>Soluk Arka Plan</option>
<option value="bold">Kalın ve Renkli</option>
<option value="underline">Altı Çizgili</option>
</select>
</div>
</div>

<div class="setting-item">
<div class="setting-label">
<span>Arapça Metin Görünümü</span>
<span>Arapça metin gösterim tercihini seçin</span>
</div>
<div class="custom-select">
<select id="arabic-display-mode">
<option value="always">Her Zaman Göster</option>
<option value="tab" selected>Sekme Olarak Göster</option>
<option value="never">Gösterme</option>
</select>
</div>
</div>
</div>

<div class="settings-section">
<h3>Okuma Ayarları</h3>

<div class="setting-item">
<div class="setting-label">
<span>Varsayılan Meal</span>
<span>Tercih ettiğiniz meali seçin</span>
</div>
<div class="custom-select">
<select id="default-author">
<option value="Mehmet Okuyan">Mehmet Okuyan</option>
<option value="Mustafa İslamoğlu">Mustafa İslamoğlu</option>
<option value="Yaşar Nuri Öztürk">Yaşar Nuri Öztürk</option>
<option value="Edip Yüksel">Edip Yüksel</option>
<option value="Diyanet Vakfı">Diyanet Vakfı</option>
</select>
</div>
</div>

<div class="setting-item">
<div class="setting-label">
<span>Otomatik Kaydırma</span>
<span>Uzun surelerde otomatik kaydırma</span>
</div>
<label class="toggle-switch">
<input type="checkbox" id="auto-scroll-toggle">
<span class="toggle-slider"></span>
</label>
</div>

<div class="setting-item">
<div class="setting-label">
<span>Kaydırma Hızı</span>
<span>Otomatik kaydırma hızını ayarlayın</span>
</div>
<div class="range-slider">
<input type="range" min="1" max="10" value="5" id="scroll-speed">
</div>
</div>

<div class="setting-item">
<div class="setting-label">
<span>Kelime Analizi</span>
<span>Ayet detayında kelime analizi göster</span>
</div>
<label class="toggle-switch">
<input type="checkbox" id="word-analysis-toggle" checked>
<span class="toggle-slider"></span>
</label>
</div>
</div>

<div class="settings-section">
<h3>Bildirimler</h3>

<div class="setting-item">
<div class="setting-label">
<span>Günlük Ayet Bildirimleri</span>
<span>Her gün rastgele bir ayet bildirimi alın</span>
</div>
<label class="toggle-switch">
<input type="checkbox" id="daily-verse-toggle">
<span class="toggle-slider"></span>
</label>
</div>

<div class="setting-item">
<div class="setting-label">
<span>Bildirim Zamanı</span>
<span>Günlük ayet bildiriminin zamanını seçin</span>
</div>
<div class="custom-select">
<select id="notification-time">
  <option value="morning">Sabah (08:00)</option>
  <option value="noon">Öğle (12:00)</option>
  <option value="evening">Akşam (18:00)</option>
  <option value="night">Gece (21:00)</option>
</select>
</div>
</div>
</div>

<div class="settings-section">
<h3>Veri ve Gizlilik</h3>

<div class="setting-item">
<div class="setting-label">
<span>Çevrimdışı Kullanım</span>
<span>İnternetsiz kullanım için verileri kaydet</span>
</div>
<label class="toggle-switch">
<input type="checkbox" id="offline-toggle" checked>
<span class="toggle-slider"></span>
</label>
</div>

<div class="setting-item">
<div class="setting-label">
<span>Arama Geçmişi</span>
<span>Arama geçmişinizi kaydet</span>
</div>
<label class="toggle-switch">
<input type="checkbox" id="search-history-toggle" checked>
<span class="toggle-slider"></span>
</label>
</div>

<button class="settings-btn" id="clear-data-btn">
<i class="fas fa-trash-alt"></i> Tüm Verileri Temizle
</button>
</div>

<div class="settings-section">
<h3>Hakkında</h3>

<button class="settings-btn" id="app-btn">
<svg class="button-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
<path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.86 3.11c-.2.2-.2.51 0 .71.2.2.51.2.71 0l1.3-1.3C10.66 2.19 11.32 2 12 2c.68 0 1.34.19 1.91.54zM12 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8z"/>
</svg> Mobil Uygulama İNDİR
</button>

<div class="setting-item">
<div class="setting-label">
<span>Uygulama Versiyonu</span>
<span>v1.3.0</span>
</div>
</div>

<button class="settings-btn" id="feedback-btn">
<i class="fas fa-comment-alt"></i> Geri Bildirim Gönder
</button>
</div>
</div>
</div>

<footer>
<p>© 2025 THE LENG | SADECE KURAN</p>
</footer>
</div>

<div id="search-page">
<div class="search-page-header">
<button class="search-page-back"><i class="fas fa-arrow-left"></i></button>
<h2>Arama</h2>
</div>

<div class="search-page-container">
<div class="search-page-main">
<div class="search-page-input-container">
<input type="text" id="search-page-input" placeholder="Sure, ayet veya kelime ara..." autofocus />
<i class="fas fa-search search-page-icon"></i>
</div>
<div id="search-results"></div>
</div>

<div class="search-page-sidebar">
<h3>Örnek Aramalar</h3>
<div class="example-searches">
<div class="example-search"><i class="fas fa-hashtag"></i> islam</div>
<div class="example-search"><i class="fas fa-hashtag"></i> iman</div>
<div class="example-search"><i class="fas fa-hashtag"></i> rahmet</div>
<div class="example-search"><i class="fas fa-hashtag"></i> tevhid</div>
<div class="example-search"><i class="fas fa-hashtag"></i> sabır</div>
<div class="example-search"><i class="fas fa-hashtag"></i> şükür</div>
<div class="example-search"><i class="fas fa-hashtag"></i> dua</div>
<div class="example-search"><i class="fas fa-hashtag"></i> namaz</div>
</div>
</div>
</div>
</div>

<div class="bottom-nav">
<div class="bottom-nav-item active" id="home-nav">
<i class="fas fa-home"></i>
</div>
<div class="bottom-nav-item" id="search-nav">
<i class="fas fa-search"></i>
</div>
<div class="home-btn" id="home-btn">
<i class="fas fa-book-open"></i>
</div>
<div class="bottom-nav-item" id="saved-nav">
<i class="fas fa-bookmark"></i>
</div>
<div class="bottom-nav-item" id="settings-nav">
<i class="fas fa-cog"></i>
</div>
</div>

<div class="audio-player" id="audio-player">
<div class="audio-player-content">
<div class="audio-info">
<div class="audio-title" id="audio-title">Sure Adı</div>
<div class="audio-subtitle" id="audio-subtitle">Sesli Kuran</div>
</div>

<div class="audio-controls-main">
<button class="audio-control-btn" id="audio-prev-btn" title="Önceki Sure">
<i class="fas fa-step-backward"></i>
</button>
<button class="audio-control-btn audio-play-btn" id="audio-play-pause-btn" title="Oynat/Duraklat">
<i class="fas fa-play"></i>
</button>
<button class="audio-control-btn" id="audio-next-btn" title="Sonraki Sure">
<i class="fas fa-step-forward"></i>
</button>
</div>

<div class="audio-progress-container">
<div class="audio-progress" id="audio-progress">
<div class="audio-progress-bar" id="audio-progress-bar"></div>
</div>
<div class="audio-time">
<span id="audio-current-time">0:00</span>
<span id="audio-duration">0:00</span>
</div>
</div>

<div class="audio-volume">
<button class="audio-control-btn" id="audio-volume-btn" title="Ses">
<i class="fas fa-volume-up"></i>
</button>
<input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="100">
</div>

<button class="audio-control-btn audio-close-btn" id="audio-close-btn" title="Kapat">
<i class="fas fa-times"></i>
</button>
</div>
</div>

<div class="swipe-indicator left" id="swipe-left">
<i class="fas fa-chevron-left"></i>
</div>
<div class="swipe-indicator right" id="swipe-right">  <i class="fas fa-chevron-right"></i>
</div>

<audio id="audio-element" preload="none"></audio>

<script>
// Initialize stars
function createStars() {
  const starsContainer = document.getElementById('stars');
  const screenWidth = window.innerWidth;
  let starCount;
  
  if (screenWidth >= 1200) {
    starCount = 150;
  } else if (screenWidth >= 768) {
    starCount = 100;
  } else {
    starCount = 50;
  }
  
  starsContainer.innerHTML = '';
  
  for (let i = 0; i < starCount; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.width = Math.random() * 2 + 1 + 'px';
    star.style.height = star.style.width;
    star.style.animationDelay = Math.random() * 4 + 's';
    starsContainer.appendChild(star);
  }
}

// Word Library Integration Function
function redirectToWordLibrary(wordArabic, wordTranscription) {
  // Create a URL-safe version of the word for the library
  const wordKey = `${wordArabic}_${wordTranscription}`;
  const encodedWordKey = encodeURIComponent(wordKey);
  
  // Redirect to the word library page
  const libraryUrl = `kelime-kutuphanesi.html#word-${encodedWordKey}`;
  window.open(libraryUrl, '_blank');
}

// Enhanced word click handler with library integration
function handleWordClick(e, detailedVerse, surahId, verseId, wordDetailId) {
  const wordItem = e.target.closest('.word-item');
  if (wordItem) {
    const index = parseInt(wordItem.dataset.index);
    const word = detailedVerse.words[index];

    // Add library link styling
    wordItem.classList.add('library-link');
    
    // Check if this is a click to go to library (double click or special key)
    if (e.detail === 2 || e.ctrlKey || e.metaKey) {
      // Redirect to word library
      redirectToWordLibrary(word.arabic, word.transcription_tr || word.transcription_en || '');
      return;
    }

    const wordDetail = document.getElementById(wordDetailId);
    wordDetail.innerHTML = `
      <div class="word-detail-row">
        <div class="word-detail-label">Arapça:</div>
        <div class="word-detail-value">${word.arabic}</div>
      </div>
      <div class="word-detail-row">
        <div class="word-detail-label">Türkçe:</div>
        <div class="word-detail-value">${word.translation_tr}</div>
      </div>
      <div class="word-detail-row">
        <div class="word-detail-label">İngilizce:</div>
        <div class="word-detail-value">${word.translation_en}</div>
      </div>
      <div class="word-detail-row">
        <div class="word-detail-label">Türkçe Okunuş:</div>
        <div class="word-detail-value">${word.transcription_tr}</div>
      </div>
      <div class="word-detail-row">
        <div class="word-detail-label">İngilizce Okunuş:</div>
        <div class="word-detail-value">${word.transcription_en}</div>
      </div>
      <div class="word-detail-row">
        <div class="word-detail-label">Kütüphane:</div>
        <div class="word-detail-value">
          <button onclick="redirectToWordLibrary('${word.arabic}', '${word.transcription_tr || word.transcription_en || ''}')" 
                  style="background: linear-gradient(45deg, var(--highlight-dark), #1a91da); color: white; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-size: 0.9rem; transition: all 0.3s ease;">
            📚 Kelime Kütüphanesinde Gör
          </button>
        </div>
      </div>
    `;

    if (word.root) {
      wordDetail.innerHTML += `
        <div class="root-info">
          <div class="word-detail-row">
            <div class="word-detail-label">Kök (Latin):</div>
            <div class="word-detail-value">${word.root.latin}</div>
          </div>
          <div class="word-detail-row">
            <div class="word-detail-label">Kök (Arapça):</div>
            <div class="word-detail-value">${word.root.arabic}</div>
          </div>
          <div class="word-detail-row">
            <div class="word-detail-label">Kök Anlamı:</div>
            <div class="word-detail-value">${word.root.meaning || 'Belirtilmemiş'}</div>
          </div>
        </div>
      `;
    }

    if (allSurahsData) {
      wordDetail.innerHTML += `
        <div class="other-occurrences">
          <h4 class="occurrences-title">Bu Kelimenin Geçtiği Diğer Ayetler</h4>
          <div id="word-occurrences-${wordDetailId}" class="word-occurrences">
            <div class="loading-occurrences">Aranıyor...</div>
          </div>
        </div>
      `;

      setTimeout(() => {
        findWordOccurrences(word.arabic, surahId, verseId, `word-occurrences-${wordDetailId}`);
      }, 100);
    }

    wordDetail.classList.add("active");
  }
}

// Original JavaScript code continues here...
let quranData = [];
let jsonData = {};
let allSurahsData = null;
let selectedAuthor = "Mehmet Okuyan";
const totalSurahs = 114;
let verseNumberStyle = localStorage.getItem("verseNumberStyle") || "bg";
let arabicDisplayMode = localStorage.getItem("arabicDisplayMode") || "tab";
let showWordAnalysis = localStorage.getItem("showWordAnalysis") !== "false";
let dataLoaded = false;

let currentSurahIndex = 0;
let currentVerseIndex = 0;

let audioElement = null;
let audioPlayer = null;
let currentAudioSurah = null;
let isAudioPlaying = false;
let currentAudioTime = 0;
let audioDuration = 0;
let audioVolume = 1;

let touchStartX = 0;
let touchStartY = 0;
let touchEndX = 0;
let touchEndY = 0;
let isSwipeDetected = false;
let isInVerseDetailPanel = false;

let isScrolling = false;
let scrollTimeout = null;
let lastScrollY = 0;
let scrollThreshold = 10;

let longPressTimer = null;
let isLongPress = false;
let longPressTarget = null;

let authorOrder = JSON.parse(localStorage.getItem("authorOrder") || "[]");
let originalAuthorOrder = [];

let notificationPermissionGranted = false;

// Note editing variables
let currentEditingVerse = null;

// Current verse detail variables
let currentDetailVerse = null;

const surahNames = {
1: "Fatiha", 2: "Bakara", 3: "Al-i Imran", 4: "Nisa", 5: "Maide", 6: "Enam", 7: "Araf", 8: "Enfal", 9: "Tevbe", 10: "Yunus",
11: "Hud", 12: "Yusuf", 13: "Rad", 14: "Ibrahim", 15: "Hicr", 16: "Nahl", 17: "Isra", 18: "Kehf", 19: "Meryem", 20: "Ta-Ha",
21: "Enbiya", 22: "Hac", 23: "Muminun", 24: "Nur", 25: "Furkan", 26: "Suara", 27: "Neml", 28: "Kasas", 29: "Ankebut", 30: "Rum",
31: "Lokman", 32: "Secde", 33: "Ahzab", 34: "Sebe", 35: "Fatir", 36: "Yasin", 37: "Saffat", 38: "Sad", 39: "Zumer", 40: "Mumin",
41: "Fussilet", 42: "Sura", 43: "Zuhruf", 44: "Duhan", 45: "Casiye", 46: "Ahkaf", 47: "Muhammed", 48: "Fetih", 49: "Hucurat", 50: "Kaf",
51: "Zariyat", 52: "Tur", 53: "Necm", 54: "Kamer", 55: "Rahman", 56: "Vakia", 57: "Hadid", 58: "Mucadele", 59: "Hasr", 60: "Mumtehine",
61: "Saf", 62: "Cuma", 63: "Munafikun", 64: "Tegabun", 65: "Talak", 66: "Tahrim", 67: "Mulk", 68: "Kalem", 69: "Hakka", 70: "Mearic",
71: "Nuh", 72: "Cin", 73: "Muzzemmil", 74: "Muddessir", 75: "Kiyame", 76: "Insan", 77: "Murselat", 78: "Nebe", 79: "Naziat", 80: "Abese",
81: "Tekvir", 82: "Infitar", 83: "Mutaffifin", 84: "Insikak", 85: "Buruc", 86: "Tarik", 87: "Ala", 88: "Gasiye", 89: "Fecr", 90: "Beled",
91: "Sems", 92: "Leyl", 93: "Duha", 94: "Insirah", 95: "Tin", 96: "Alak", 97: "Kadr", 98: "Beyyine", 99: "Zilzal", 100: "Adiyat",
101: "Karia", 102: "Tekasur", 103: "Asr", 104: "Humeze", 105: "Fil", 106: "Kureys", 107: "Maun", 108: "Kevser", 109: "Kafirun", 110: "Nasr",
111: "Tebbet", 112: "Ihlas", 113: "Felak", 114: "Nas"
};

let currentTheme = localStorage.getItem("currentTheme") || "dark";
let highlightColor = localStorage.getItem("highlightColor") || "#1da1f2";
let fontSize = parseInt(localStorage.getItem("fontSize") || "100");
let defaultAuthor = localStorage.getItem("defaultAuthor") || "Mehmet Okuyan";
let autoScroll = localStorage.getItem("autoScroll") === "true";
let scrollSpeed = parseInt(localStorage.getItem("scrollSpeed") || "5");
let dailyVerse = localStorage.getItem("dailyVerse") === "true";
let notificationTime = localStorage.getItem("notificationTime") || "morning";
let offlineMode = localStorage.getItem("offlineMode") !== "false";
let searchHistory = localStorage.getItem("searchHistory") !== "false";

let currentSurahId = 0;
let currentVerseId = 0;

// Initialize the application
document.addEventListener("DOMContentLoaded", async () => {
  createStars();
  
  // Handle window resize for responsive stars
  window.addEventListener('resize', () => {
    const starsContainer = document.getElementById('stars');
    starsContainer.innerHTML = '';
    createStars();
  });

  try {
    const response = await fetch("kuran_mealleri.json");
    if (!response.ok) {
      throw new Error(`JSON dosyası yüklenemedi: ${response.status}`);
    }
    jsonData = await response.json();
    loadAuthors(jsonData);
    await loadQuranData(selectedAuthor);

    allSurahsData = await loadAllSurahsData();

    applyTheme(currentTheme);
    applySettings();
    setupKeyboardNavigation();
    setupMobileLongPress();
    setupAuthorSorting();
    initializeAudio();

    if (dailyVerse) {
      requestNotificationPermission();
    }
  } catch (error) {
    console.error("Başlangıçta hata:", error);
    showNotification("Uygulama başlatılırken bir hata oluştu: " + error.message, "error");
  }

  // Rest of the original JavaScript code would continue here...
  // [All the remaining functions from the original code]

document.getElementById("author-select").addEventListener("change", async (e) => {
selectedAuthor = e.target.value;
if (selectedAuthor) {
await loadQuranData(selectedAuthor);
document.getElementById("surahs").style.display = "block";
document.getElementById("verse-panel").classList.remove("active");
document.getElementById("verse-detail-panel").classList.remove("active");
document.getElementById("saved-verses").style.display = "none";
document.getElementById("podcasts").style.display = "none";
document.getElementById("settings").style.display = "none";
document.querySelector('.controls').style.display = "flex";
isInVerseDetailPanel = false;
}
});

document.getElementById("close-panel").addEventListener("click", () => {
showHome();
});

document.getElementById("back-btn").addEventListener("click", () => {
const panel = document.getElementById("verse-detail-panel");
const versePanel = document.getElementById("verse-panel");
const savedVersesDiv = document.getElementById("saved-verses");

panel.classList.remove("active");
isInVerseDetailPanel = false;

if (savedVersesDiv.style.display === "block") {
savedVersesDiv.style.display = "block";
} else {
versePanel.classList.add("active");
if (currentSurahId > 0) {
window.location.hash = `${currentSurahId}`;
currentVerseId = 0;
}
}
});

document.getElementById("surah-audio-btn").addEventListener("click", () => {
if (currentSurahId) {
playAudio(currentSurahId);
}
});

document.getElementById("verse-audio-btn").addEventListener("click", () => {
if (currentSurahId) {
playAudio(currentSurahId);
}
});

// Verse detail save and share buttons
document.getElementById("verse-detail-save-btn").addEventListener("click", () => {
if (currentDetailVerse) {
const button = document.getElementById("verse-detail-save-btn");
toggleSavedVerse(currentDetailVerse.surah, currentDetailVerse.verse, button);
}
});

document.getElementById("verse-detail-share-btn").addEventListener("click", () => {
if (currentDetailVerse) {
shareVerse(currentDetailVerse.surah, currentDetailVerse.verse, currentDetailVerse.surahId, currentDetailVerse.verseId);
}
});

document.getElementById("show-saved").addEventListener("click", () => {
showSavedVerses();
});

document.getElementById("back-to-surahs").addEventListener("click", () => {
showHome();
});

document.getElementById("search-nav-desktop").addEventListener("click", () => {
showSearch();
});

document.getElementById("search-nav").addEventListener("click", () => {
showSearch();
});

document.querySelector(".search-page-back").addEventListener("click", () => {
document.getElementById("search-page").classList.remove("active");
history.pushState("", document.title, window.location.pathname);
});

document.querySelectorAll(".example-search").forEach(item => {
item.addEventListener("click", () => {
const searchTerm = item.textContent.replace(/[#\s]/g, '').trim();
document.getElementById("search-page-input").value = searchTerm;
displaySearchResults(searchTerm);
});
});

document.getElementById("saved-nav-desktop").addEventListener("click", () => {
showSavedVerses();
});

document.getElementById("saved-nav").addEventListener("click", () => {
showSavedVerses();
});

document.getElementById("meal-writers-nav-desktop").addEventListener("click", () => {
window.location.href = "mealyazarlar.html";
});

document.getElementById("podcasts-nav-desktop").addEventListener("click", () => {
showPodcasts();
});

document.getElementById("settings-nav-desktop").addEventListener("click", () => {
showSettings();
});

document.getElementById("settings-nav").addEventListener("click", () => {
showSettings();
});

document.getElementById("home-nav-desktop").addEventListener("click", () => {
showHome();
});

document.getElementById("home-nav").addEventListener("click", () => {
showHome();
});

document.getElementById("home-btn").addEventListener("click", () => {
if (window.innerWidth <= 768) {
window.location.href = "/makaleler.html";
} else {
showHome();
}
});

// Note modal event listeners
document.getElementById("close-note-modal").addEventListener("click", hideNoteModal);
document.getElementById("cancel-note-btn").addEventListener("click", hideNoteModal);
document.getElementById("save-note-btn").addEventListener("click", saveVerseWithNote);

// Close modal when clicking outside
document.getElementById("note-modal").addEventListener("click", (e) => {
if (e.target.id === "note-modal") {
hideNoteModal();
}
});

setupSettingsEventListeners();
});

function showHome() {
document.getElementById("search").value = "";

document.getElementById("surahs").style.display = "block";
document.querySelector('.controls').style.display = "flex";

document.getElementById("verse-panel").classList.remove("active");
document.getElementById("verse-detail-panel").classList.remove("active");
document.getElementById("saved-verses").style.display = "none";
document.getElementById("podcasts").style.display = "none";
document.getElementById("settings").style.display = "none";
document.getElementById("search-page").classList.remove("active");
document.getElementById("main-search-results").classList.remove("active");

updateActiveTab('home');

history.pushState("", document.title, window.location.pathname);
currentSurahId = 0;
currentVerseId = 0;
isInVerseDetailPanel = false;

displaySurahs(quranData);
}

function showSearch() {
document.getElementById("search-page").classList.add("active");
document.getElementById("search-page-input").focus();
updateActiveTab('search');
document.querySelector('.controls').style.display = "none";
window.location.hash = "search";
isInVerseDetailPanel = false;
}

function showSavedVerses() {
document.getElementById("surahs").style.display = "none";
document.getElementById("verse-panel").classList.remove("active");
document.getElementById("verse-detail-panel").classList.remove("active");
document.getElementById("saved-verses").style.display = "block";
document.getElementById("podcasts").style.display = "none";
document.getElementById("settings").style.display = "none";
displaySavedVerses();
updateActiveTab('saved');
document.querySelector('.controls').style.display = "none";
window.location.hash = "saved";
isInVerseDetailPanel = false;
}

function showPodcasts() {
document.getElementById("surahs").style.display = "none";
document.getElementById("verse-panel").classList.remove("active");
document.getElementById("verse-detail-panel").classList.remove("active");
document.getElementById("saved-verses").style.display = "none";
document.getElementById("podcasts").style.display = "block";
document.getElementById("settings").style.display = "none";
updateActiveTab('podcasts');

document.querySelector('.controls').style.display = "none";
history.pushState("", document.title, window.location.pathname);
currentSurahId = 0;
currentVerseId = 0;
isInVerseDetailPanel = false;
}

function showSettings() {
document.getElementById("surahs").style.display = "none";
document.getElementById("verse-panel").classList.remove("active");
document.getElementById("verse-detail-panel").classList.remove("active");
document.getElementById("saved-verses").style.display = "none";
document.getElementById("podcasts").style.display = "none";
document.getElementById("settings").style.display = "block";
updateActiveTab('settings');
document.querySelector('.controls').style.display = "none";
window.location.hash = "settings";
isInVerseDetailPanel = false;
}

function debounce(func, wait) {
let timeout;
return function(...args) {
clearTimeout(timeout);
timeout = setTimeout(() => func.apply(this, args), wait);
};
}

const debouncedSearch = debounce(function(e) {
const searchTerm = e.target.value.trim();
if (searchTerm === "") {
document.getElementById("main-search-results").classList.remove("active");
document.getElementById("surahs").style.display = "grid";
document.getElementById("verse-detail-panel").classList.remove("active");
isInVerseDetailPanel = false;
} else {
displayMainSearchResults(searchTerm);
}
document.getElementById("verse-panel").classList.remove("active");
}, 300);

document.getElementById("search").addEventListener("input", debouncedSearch);

const debouncedPageSearch = debounce(function(e) {
const searchTerm = e.target.value.trim();
if (searchTerm === "") {
document.getElementById("search-results").innerHTML = "<p>Arama yapmak için bir kelime yazın.</p>";
} else {
displaySearchResults(searchTerm);
}
}, 300);

document.getElementById("search-page-input").addEventListener("input", debouncedPageSearch);

function applySettings() {
applyHighlightColor(highlightColor);

updateFontSize();

if (defaultAuthor && defaultAuthor !== selectedAuthor) {
selectedAuthor = defaultAuthor;
const authorSelect = document.getElementById("author-select");
if (authorSelect.querySelector(`option[value="${defaultAuthor}"]`)) {
authorSelect.value = defaultAuthor;
loadQuranData(defaultAuthor);
}
}

document.getElementById("verse-number-style").value = verseNumberStyle;

document.getElementById("arabic-display-mode").value = arabicDisplayMode;

document.getElementById("word-analysis-toggle").checked = showWordAnalysis;

document.getElementById("daily-verse-toggle").checked = dailyVerse;
document.getElementById("notification-time").value = notificationTime;
document.getElementById("auto-scroll-toggle").checked = autoScroll;
document.getElementById("scroll-speed").value = scrollSpeed;
document.getElementById("offline-toggle").checked = offlineMode;
document.getElementById("search-history-toggle").checked = searchHistory;
}

function applyHighlightColor(color) {
document.documentElement.style.setProperty('--highlight-dark', color);
document.documentElement.style.setProperty('--highlight-light', color);
}

function updateFontSize() {
document.getElementById("font-size-value").textContent = fontSize + "%";
document.documentElement.style.setProperty('--verse-font-size', fontSize + "%");
}

function setupSettingsEventListeners() {
document.querySelectorAll('.theme-option').forEach(option => {
option.addEventListener('click', function() {
const theme = this.dataset.theme;
applyTheme(theme);
});
});

document.querySelectorAll(".color-option").forEach(option => {
option.addEventListener("click", function() {
document.querySelectorAll(".color-option").forEach(opt => opt.classList.remove("active"));
this.classList.add("active");
highlightColor = this.dataset.color;
localStorage.setItem("highlightColor", highlightColor);
applyHighlightColor(highlightColor);
});
});

document.getElementById("decrease-font").addEventListener("click", function() {
if (fontSize > 70) {
fontSize -= 10;
updateFontSize();
localStorage.setItem("fontSize", fontSize);
}
});

document.getElementById("increase-font").addEventListener("click", function() {
if (fontSize < 150) {
fontSize += 10;
updateFontSize();
localStorage.setItem("fontSize", fontSize);
}
});

document.getElementById("verse-number-style").addEventListener("change", function(e) {
verseNumberStyle = e.target.value;
localStorage.setItem("verseNumberStyle", verseNumberStyle);
showNotification("Ayet numarası stili değiştirildi");
});

document.getElementById("arabic-display-mode").addEventListener("change", function(e) {
arabicDisplayMode = e.target.value;
localStorage.setItem("arabicDisplayMode", arabicDisplayMode);
showNotification("Arapça metin görünümü değiştirildi");
});

document.getElementById("word-analysis-toggle").addEventListener("change", function(e) {
showWordAnalysis = e.target.checked;
localStorage.setItem("showWordAnalysis", showWordAnalysis);
showNotification("Kelime analizi görünümü " + (showWordAnalysis ? "etkinleştirildi" : "devre dışı bırakıldı"));
});

document.getElementById("default-author").addEventListener("change", function(e) {
defaultAuthor = e.target.value;
localStorage.setItem("defaultAuthor", defaultAuthor);
showNotification("Varsayılan meal değiştirildi: " + defaultAuthor);

if (defaultAuthor !== selectedAuthor) {
selectedAuthor = defaultAuthor;
document.getElementById("author-select").value = defaultAuthor;
loadQuranData(defaultAuthor);
}
});

document.getElementById("auto-scroll-toggle").addEventListener("change", function(e) {
autoScroll = e.target.checked;
localStorage.setItem("autoScroll", autoScroll);
});

document.getElementById("scroll-speed").addEventListener("input", function(e) {
scrollSpeed = e.target.value;
localStorage.setItem("scrollSpeed", scrollSpeed);
});

document.getElementById("daily-verse-toggle").addEventListener("change", function(e) {
dailyVerse = e.target.checked;
localStorage.setItem("dailyVerse", dailyVerse);
if (dailyVerse) {
requestNotificationPermission();
} else {
if ('serviceWorker' in navigator) {
navigator.serviceWorker.ready.then(registration => {
registration.getNotifications().then(notifications => {
notifications.forEach(notification => notification.close());
});
});
}
}
});

document.getElementById("notification-time").addEventListener("change", function(e) {
notificationTime = e.target.value;
localStorage.setItem("notificationTime", notificationTime);
if (dailyVerse && notificationPermissionGranted) {
scheduleNotifications();
}
});

document.getElementById("offline-toggle").addEventListener("change", function(e) {
offlineMode = e.target.checked;
localStorage.setItem("offlineMode", offlineMode);
});

document.getElementById("search-history-toggle").addEventListener("change", function(e) {
searchHistory = e.target.checked;
localStorage.setItem("searchHistory", searchHistory);
if (!searchHistory) {
localStorage.removeItem("searchHistoryData");
}
});

document.getElementById("clear-data-btn").addEventListener("click", function() {
if (confirm("Tüm uygulama verilerini silmek istediğinize emin misiniz? Bu işlem geri alınamaz.")) {
clearAllData();
}
});

document.getElementById("feedback-btn").addEventListener("click", function() {
window.location.href = "mailto:info@sadecekuran.com.tr?subject=Sadece Kuran Uygulama Geri Bildirimi";
});

document.getElementById("app-btn").addEventListener("click", function() {
showNotification("Mobil uygulama yakında mağazalarda!", "info");
});

document.getElementById("theme-toggle").addEventListener("click", cycleTheme);
}

function clearAllData() {
const themeValue = localStorage.getItem("currentTheme");
const highlightValue = localStorage.getItem("highlightColor");
const verseNumberStyleValue = localStorage.getItem("verseNumberStyle");
localStorage.clear();
localStorage.setItem("currentTheme", themeValue);
localStorage.setItem("highlightColor", highlightValue);
localStorage.setItem("verseNumberStyle", verseNumberStyleValue);

showNotification("Tüm veriler temizlendi");

setTimeout(() => {
window.location.reload();
}, 1500);
}
</script>
</body>
</html>